<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XOXO Online Premium</title>

<style>
:root{
    --main:#ff4fd8;
    --x:#00f7ff;
    --bg1:#2b0040;
    --bg2:#000;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,sans-serif}

body{
    width:100vw;
    height:100vh;
    background:radial-gradient(circle at top,var(--bg1),var(--bg2));
    display:flex;
    justify-content:center;
    align-items:center;
    color:white;
}

.game{
    background:rgba(0,0,0,.6);
    padding:30px;
    border-radius:25px;
    box-shadow:0 0 40px var(--main);
    text-align:center;
}

h1{
    font-size:48px;
    color:var(--main);
    text-shadow:0 0 20px var(--main);
}

.board{
    display:grid;
    grid-template-columns:repeat(3,110px);
    gap:15px;
    margin:25px 0;
}

.cell{
    height:110px;
    border-radius:20px;
    background:rgba(255,255,255,.05);
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:60px;
    cursor:pointer;
}

.cell.X{color:var(--x);text-shadow:0 0 20px var(--x)}
.cell.O{color:var(--main);text-shadow:0 0 20px var(--main)}

select,button{
    padding:10px 20px;
    border-radius:20px;
    border:none;
    font-weight:bold;
    cursor:pointer;
    margin:5px;
}

button{
    background:var(--main);
}

#status{margin-top:10px}
</style>
</head>

<body>

<div class="game">
    <h1>XOXO</h1>

    <select onchange="setTheme(this.value)">
        <option value="purple">üíú Purple</option>
        <option value="blue">üíô Blue</option>
        <option value="red">‚ù§Ô∏è Red</option>
    </select>

    <div class="board" id="board"></div>
    <div id="status">Qo≈üulur...</div>

    <button onclick="resetGame()">Reset</button>
</div>

<!-- üî• FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
/* üî• FIREBASE CONFIG ‚Äî BURANI D∆èYƒ∞≈û */
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT.firebaseio.com",
  projectId: "YOUR_PROJECT",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "ID",
  appId: "APP_ID"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const room = db.ref("xoxo-room");

let mySymbol="";
let board = Array(9).fill("");

const boardEl = document.getElementById("board");
const statusEl = document.getElementById("status");

/* PLAYER JOIN */
room.once("value", snap=>{
    const data = snap.val();
    mySymbol = (!data || !data.playerX) ? "X" : "O";
    room.update({["player"+mySymbol]:true});
    statusEl.innerText="S…ôn "+mySymbol+"-san";
});

room.on("value", snap=>{
    const d = snap.val();
    if(!d) return;
    board = d.board || board;
    render();
});

/* GAME */
function render(){
    boardEl.innerHTML="";
    board.forEach((v,i)=>{
        const c=document.createElement("div");
        c.className="cell "+v;
        c.innerText=v;
        c.onclick=()=>play(i);
        boardEl.appendChild(c);
    });
}

function play(i){
    if(board[i] || mySymbol!==getTurn()) return;
    board[i]=mySymbol;
    room.update({board});
}

function getTurn(){
    return board.filter(v=>v).length%2==0?"X":"O";
}

function resetGame(){
    room.set({board:Array(9).fill("")});
}

/* THEMES */
function setTheme(t){
    if(t=="purple") document.documentElement.style.cssText="--main:#ff4fd8;--x:#00f7ff;--bg1:#2b0040";
    if(t=="blue") document.documentElement.style.cssText="--main:#00f7ff;--x:#fff;--bg1:#002b40";
    if(t=="red") document.documentElement.style.cssText="--main:#ff2e2e;--x:#fff;--bg1:#400000";
}
</script>

</body>
</html>