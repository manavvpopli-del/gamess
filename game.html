<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XOXO Premium</title>

<style>
:root{
  --x:#00eaff;
  --o:#ff3cac;
  --bg:#070014;
}

*{box-sizing:border-box;font-family:Inter,Segoe UI,sans-serif}

body{
  margin:0;
  width:100vw;
  height:100vh;
  background:radial-gradient(circle at top,#22003d,var(--bg));
  display:flex;
  justify-content:center;
  align-items:center;
  color:#fff;
  overflow:hidden;
}

/* MENU */
#menu{
  background:rgba(0,0,0,.7);
  padding:40px 50px;
  border-radius:32px;
  box-shadow:0 0 80px #ff3cac88;
  text-align:center;
  animation:fadeIn .6s ease;
}

#menu h1{
  font-size:56px;
  margin-bottom:30px;
  color:var(--o);
  text-shadow:0 0 30px var(--o);
}

button,select{
  width:260px;
  padding:14px;
  margin:10px 0;
  border-radius:30px;
  border:none;
  font-size:17px;
  font-weight:600;
  cursor:pointer;
}

button{background:var(--o);color:#000}
select{background:#111;color:#fff}

/* GAME */
#game{
  display:none;
  flex-direction:column;
  align-items:center;
}

#status{
  font-size:22px;
  margin-bottom:20px;
}

.board{
  display:grid;
  grid-template-columns:repeat(3,120px);
  gap:18px;
}

.cell{
  width:120px;
  height:120px;
  background:rgba(255,255,255,.06);
  border-radius:22px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:68px;
  cursor:pointer;
  transition:.25s;
}

.cell:hover{background:rgba(255,255,255,.12)}

.cell.X{
  color:var(--x);
  text-shadow:0 0 25px var(--x);
}
.cell.O{
  color:var(--o);
  text-shadow:0 0 25px var(--o);
}

.cell.win{
  animation:winPulse 1s infinite;
}

@keyframes winPulse{
  0%{box-shadow:0 0 10px}
  50%{box-shadow:0 0 45px}
  100%{box-shadow:0 0 10px}
}

/* RESULT */
#overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  backdrop-filter:blur(6px);
}

#overlay h2{
  font-size:64px;
  color:var(--o);
  animation:scaleIn .6s ease;
}

@keyframes scaleIn{
  from{transform:scale(.6);opacity:0}
  to{transform:scale(1);opacity:1}
}

.small{
  background:#333;
  color:#fff;
  margin-top:14px;
}
</style>
</head>

<body>

<div id="menu">
  <h1>XOXO</h1>
  <button onclick="start('local')">ðŸ‘¥ 2 NÉ™fÉ™r</button>

  <select id="level">
    <option value="easy">ðŸ¤– Asan</option>
    <option value="normal">ðŸ¤– Normal</option>
    <option value="hard">ðŸ¤– Ã‡É™tin</option>
  </select>
  <button onclick="start('bot')">Botla oyna</button>
</div>

<div id="game">
  <div id="status"></div>
  <div class="board" id="board"></div>
  <button onclick="reset()">YenidÉ™n</button>
  <button class="small" onclick="back()">Menyu</button>
</div>

<div id="overlay">
  <h2 id="resultText"></h2>
  <button onclick="reset()">YenidÉ™n</button>
</div>

<script>
let board,turn,mode,botLevel,locked=false;
const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8]];

const boardEl=document.getElementById("board");
const statusEl=document.getElementById("status");
const overlay=document.getElementById("overlay");
const resultText=document.getElementById("resultText");

function start(m){
  mode=m;
  botLevel=document.getElementById("level").value;
  document.getElementById("menu").style.display="none";
  document.getElementById("game").style.display="flex";
  reset();
}

function reset(){
  board=Array(9).fill("");
  turn="X";
  locked=false;
  overlay.style.display="none";
  render();
}

function render(){
  boardEl.innerHTML="";
  board.forEach((v,i)=>{
    const c=document.createElement("div");
    c.className="cell "+v;
    c.textContent=v;
    c.onclick=()=>move(i);
    boardEl.appendChild(c);
  });
  statusEl.textContent=turn+" nÃ¶vbÉ™dÉ™dir";
}

function move(i){
  if(board[i]||locked) return;
  board[i]=turn;
  if(check(turn)) return end(turn);
  if(!board.includes("")) return end("draw");

  turn=turn==="X"?"O":"X";
  render();

  if(mode==="bot" && turn==="O"){
    locked=true;
    setTimeout(botMove,450);
  }
}

function botMove(){
  let move;
  if(botLevel==="easy") move=random();
  else if(botLevel==="normal") move=smart() ?? random();
  else move=best();

  board[move]="O";
  locked=false;

  if(check("O")) return end("O");
  if(!board.includes("")) return end("draw");

  turn="X";
  render();
}

function random(){
  const e=board.map((v,i)=>v===""?i:null).filter(v=>v!==null);
  return e[Math.floor(Math.random()*e.length)];
}

function smart(){
  for(let i=0;i<9;i++){
    if(board[i]===""){
      board[i]="O";
      if(check("O")){board[i]="";return i}
      board[i]="";
    }
  }
  return null;
}

function best(){
  return smart() ?? random();
}

function check(p){
  return wins.some(w=>w.every(i=>board[i]===p));
}

function end(w){
  locked=true;
  overlay.style.display="flex";
  resultText.textContent =
    w==="draw" ? "HeÃ§-heÃ§É™" : w+" qazandÄ±";
}

function back(){
  document.getElementById("game").style.display="none";
  document.getElementById("menu").style.display="block";
}
</script>

</body>
</html>