<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Security Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Segoe+UI:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --wa-dark-green: #075E54;
            --wa-teal: #128C7E;
            --wa-light-green: #25D366;
            --wa-bubble: #DCF8C6;
            --wa-bg: #ECE5DD;
            --wa-blue: #34B7F1;
            --wa-gray: #F0F2F5;
            --wa-text: #111B21;
            --wa-secondary: #667781;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            background: #dadbd3;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* Background Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23075e54' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
            z-index: -1;
        }

        /* Main Container */
        .app-container {
            width: 100%;
            max-width: 1200px;
            height: 90vh;
            background: white;
            box-shadow: 0 17px 50px 0 rgba(0,0,0,0.19), 0 12px 15px 0 rgba(0,0,0,0.24);
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            position: relative;
        }

        /* Sidebar */
        .sidebar {
            width: 35%;
            background: white;
            border-right: 1px solid #e9edef;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: var(--wa-dark-green);
            padding: 10px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
            height: 60px;
        }

        .header-icons {
            display: flex;
            gap: 20px;
        }

        .header-icons i {
            cursor: pointer;
            font-size: 18px;
            opacity: 0.9;
            transition: opacity 0.2s;
        }

        .header-icons i:hover {
            opacity: 1;
        }

        /* Search/Input Area */
        .search-container {
            background: var(--wa-gray);
            padding: 10px 16px;
            border-bottom: 1px solid #e9edef;
        }

        .search-box {
            background: white;
            border-radius: 8px;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }

        .search-box i {
            color: var(--wa-secondary);
            font-size: 14px;
        }

        .search-box input {
            border: none;
            outline: none;
            flex: 1;
            font-size: 14px;
            color: var(--wa-text);
        }

        .search-box input::placeholder {
            color: var(--wa-secondary);
        }

        /* Country List */
        .country-list {
            flex: 1;
            overflow-y: auto;
        }

        .country-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            cursor: pointer;
            transition: background 0.2s;
            border-bottom: 1px solid #f0f2f5;
        }

        .country-item:hover {
            background: #f5f6f6;
        }

        .country-item.active {
            background: #f0f2f5;
        }

        .country-flag {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-right: 12px;
            background: var(--wa-gray);
        }

        .country-info {
            flex: 1;
        }

        .country-name {
            font-weight: 500;
            color: var(--wa-text);
            font-size: 16px;
        }

        .country-code {
            color: var(--wa-secondary);
            font-size: 13px;
            margin-top: 2px;
        }

        /* Main Chat Area */
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--wa-bg);
            position: relative;
        }

        .chat-header {
            background: var(--wa-gray);
            padding: 10px 16px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #e9edef;
            height: 60px;
        }

        .chat-header-info {
            flex: 1;
            margin-left: 12px;
        }

        .chat-header-name {
            font-weight: 500;
            color: var(--wa-text);
            font-size: 16px;
        }

        .chat-header-status {
            color: var(--wa-secondary);
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--wa-light-green);
            border-radius: 50%;
            display: inline-block;
        }

        /* Chat Background Pattern */
        .chat-background {
            flex: 1;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23075e54' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            position: relative;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        /* Messages */
        .message {
            max-width: 70%;
            padding: 8px 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            position: relative;
            font-size: 14.2px;
            line-height: 19px;
            box-shadow: 0 1px 0.5px rgba(0,0,0,0.13);
        }

        .message-received {
            background: white;
            align-self: flex-start;
            border-top-left-radius: 0;
        }

        .message-sent {
            background: var(--wa-bubble);
            align-self: flex-end;
            border-top-right-radius: 0;
        }

        .message-time {
            font-size: 11px;
            color: var(--wa-secondary);
            float: right;
            margin-left: 8px;
            margin-top: 4px;
        }

        .message-status {
            color: var(--wa-blue);
            margin-left: 3px;
            font-size: 12px;
        }

        /* Input Area */
        .input-area {
            background: var(--wa-gray);
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-top: 1px solid #e9edef;
        }

        .input-icons {
            color: var(--wa-secondary);
            font-size: 20px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .input-icons:hover {
            color: var(--wa-secondary);
        }

        .message-input {
            flex: 1;
            background: white;
            border: none;
            border-radius: 8px;
            padding: 10px 12px;
            font-size: 15px;
            outline: none;
            box-shadow: 0 1px 2px rgba(0,0,0,0.08);
        }

        .send-btn {
            width: 40px;
            height: 40px;
            background: var(--wa-teal);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .send-btn:hover {
            background: var(--wa-dark-green);
        }

        /* Phone Input Modal */
        .phone-modal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 17px 50px 0 rgba(0,0,0,0.25);
            z-index: 1000;
            width: 90%;
            max-width: 400px;
            display: none;
        }

        .phone-modal.active {
            display: block;
        }

        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 999;
            display: none;
        }

        .modal-overlay.active {
            display: block;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--wa-text);
            margin-bottom: 20px;
            text-align: center;
        }

        .phone-input-container {
            margin-bottom: 20px;
        }

        .phone-label {
            display: block;
            color: var(--wa-secondary);
            font-size: 13px;
            margin-bottom: 8px;
            text-transform: uppercase;
            font-weight: 600;
        }

        .phone-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
            border: 2px solid #e9edef;
            border-radius: 8px;
            padding: 12px;
            transition: border-color 0.2s;
        }

        .phone-input-wrapper:focus-within {
            border-color: var(--wa-teal);
        }

        .country-select {
            display: flex;
            align-items: center;
            gap: 8px;
            padding-right: 10px;
            border-right: 1px solid #e9edef;
            cursor: pointer;
            font-weight: 500;
        }

        .phone-input-field {
            border: none;
            outline: none;
            flex: 1;
            font-size: 16px;
            color: var(--wa-text);
        }

        .verify-btn {
            width: 100%;
            background: var(--wa-light-green);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .verify-btn:hover {
            background: #1faa5c;
        }

        .verify-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Security Warning */
        .security-notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #856404;
            display: flex;
            align-items: start;
            gap: 10px;
        }

        .security-notice i {
            color: #f39c12;
            margin-top: 2px;
        }

        /* Loading Animation */
        .loading-container {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1001;
        }

        .loading-container.active {
            display: block;
        }

        .whatsapp-loader {
            width: 60px;
            height: 60px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--wa-light-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--wa-secondary);
            font-size: 14px;
        }

        /* Error Message */
        .error-message {
            color: #e74c3c;
            font-size: 13px;
            margin-top: 8px;
            display: none;
        }

        .error-message.active {
            display: block;
        }

        /* Result Modal */
        .result-modal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 17px 50px 0 rgba(0,0,0,0.3);
            z-index: 1002;
            width: 90%;
            max-width: 450px;
            text-align: center;
            display: none;
        }

        .result-modal.active {
            display: block;
        }

        .result-icon {
            width: 80px;
            height: 80px;
            background: #fee2e2;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 40px;
            color: #dc2626;
        }

        .result-title {
            font-size: 24px;
            font-weight: 700;
            color: #dc2626;
            margin-bottom: 12px;
        }

        .result-desc {
            color: var(--wa-secondary);
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 24px;
        }

        .result-details {
            background: #f9fafb;
            border-radius: 8px;
            padding: 16px;
            text-align: left;
            margin-bottom: 24px;
            font-size: 13px;
            color: var(--wa-text);
        }

        .result-details li {
            margin-bottom: 8px;
            padding-left: 8px;
            border-left: 3px solid var(--wa-light-green);
        }

        .close-btn {
            background: var(--wa-gray);
            color: var(--wa-text);
            border: none;
            padding: 12px 32px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .close-btn:hover {
            background: #e5e7eb;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .app-container {
                height: 100vh;
                border-radius: 0;
            }
            
            .sidebar {
                width: 100%;
            }
            
            .chat-area {
                display: none;
            }
            
            .chat-area.active {
                display: flex;
                position: absolute;
                width: 100%;
                height: 100%;
                z-index: 100;
            }
        }

        /* Lock Icon Animation */
        .lock-animation {
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Typing Indicator */
        .typing-indicator {
            display: none;
            background: white;
            padding: 12px 16px;
            border-radius: 8px;
            border-top-left-radius: 0;
            align-self: flex-start;
            margin-bottom: 12px;
            box-shadow: 0 1px 0.5px rgba(0,0,0,0.13);
        }

        .typing-indicator.active {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--wa-secondary);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="header">
                <div class="font-semibold text-lg">WhatsApp Simulator</div>
                <div class="header-icons">
                    <i class="fas fa-circle-notch" title="Status"></i>
                    <i class="fas fa-comment-alt" title="New chat"></i>
                    <i class="fas fa-ellipsis-v" title="Menu"></i>
                </div>
            </div>

            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search or start new chat" id="search-input">
                </div>
            </div>

            <div class="country-list" id="country-list">
                <div class="country-item active" onclick="selectCountry('AZ')">
                    <div class="country-flag">üá¶üáø</div>
                    <div class="country-info">
                        <div class="country-name">Az…ôrbaycan</div>
                        <div class="country-code">+994</div>
                    </div>
                </div>
                <div class="country-item" onclick="selectCountry('TR')">
                    <div class="country-flag">üáπüá∑</div>
                    <div class="country-info">
                        <div class="country-name">T√ºrkiy…ô</div>
                        <div class="country-code">+90</div>
                    </div>
                </div>
                <div class="country-item" onclick="selectCountry('IR')">
                    <div class="country-flag">üáÆüá∑</div>
                    <div class="country-info">
                        <div class="country-name">ƒ∞ran</div>
                        <div class="country-code">+98</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Area -->
        <div class="chat-area" id="chat-area">
            <div class="chat-header">
                <div class="w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center text-xl">
                    üîí
                </div>
                <div class="chat-header-info">
                    <div class="chat-header-name" id="chat-name">Kiber T…ôhl√ºk…ôsizlik Botu</div>
                    <div class="chat-header-status">
                        <span class="status-dot"></span>
                        <span id="status-text">onlayn</span>
                    </div>
                </div>
                <div class="header-icons text-gray-600">
                    <i class="fas fa-search mr-4"></i>
                    <i class="fas fa-paperclip mr-4"></i>
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>

            <div class="chat-background" id="chat-background">
                <div class="message message-received">
                    üëã Salam! Bu WhatsApp T…ôhl√ºk…ôsizlik T…ôlim Botudur.
                    <span class="message-time">12:00 <i class="fas fa-check message-status"></i></span>
                </div>
                
                <div class="message message-received" id="intro-message">
                    Z…ôhm…ôt olmasa, √∂yr…ônm…ôk ist…ôdiyiniz √∂lk…ôni se√ßin:
                    <span class="message-time">12:00 <i class="fas fa-check message-status"></i></span>
                </div>

                <div class="typing-indicator" id="typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>

            <div class="input-area">
                <i class="fas fa-smile input-icons"></i>
                <i class="fas fa-paperclip input-icons"></i>
                <input type="text" class="message-input" placeholder="Type a message" id="message-input" readonly>
                <button class="send-btn" onclick="openPhoneModal()">
                    <i class="fas fa-phone"></i>
                </button>
            </div>
        </div>

        <!-- Modal Overlay -->
        <div class="modal-overlay" id="modal-overlay"></div>

        <!-- Phone Input Modal -->
        <div class="phone-modal" id="phone-modal">
            <div class="security-notice">
                <i class="fas fa-exclamation-triangle"></i>
                <div>
                    <strong>T…ôhl√ºk…ôsizlik X…ôb…ôrdarlƒ±ƒüƒ±:</strong> Bu yalnƒ±z t…ôhsil simulyasiyasƒ±dƒ±r. Real m…ôlumatlara icaz…ôsiz giri≈ü qanunsuzdur.
                </div>
            </div>
            
            <div class="modal-title" id="modal-title">Telefon N√∂mr…ôsi Daxil Edin</div>
            
            <div class="phone-input-container">
                <label class="phone-label" id="phone-label">Telefon N√∂mr…ôsi</label>
                <div class="phone-input-wrapper">
                    <div class="country-select" id="country-display">
                        üá¶üáø <span>+994</span> <i class="fas fa-chevron-down text-xs ml-1"></i>
                    </div>
                    <input type="tel" class="phone-input-field" id="phone-input" placeholder="XX XXX XX XX" maxlength="12">
                </div>
                <div class="error-message" id="error-message">Z…ôhm…ôt olmasa, d√ºzg√ºn n√∂mr…ô daxil edin</div>
            </div>

            <button class="verify-btn" id="verify-btn" onclick="verifyPhone()">
                N√∂mr…ôni Yoxla
            </button>
        </div>

        <!-- Loading -->
        <div class="loading-container" id="loading-container">
            <div class="whatsapp-loader"></div>
            <div class="loading-text" id="loading-text">Baƒülantƒ± yoxlanƒ±lƒ±r...</div>
        </div>

        <!-- Result Modal -->
        <div class="result-modal" id="result-modal">
            <div class="result-icon">
                <i class="fas fa-lock"></i>
            </div>
            <div class="result-title" id="result-title">Giri≈ü Qadaƒüandƒ±r!</div>
            <div class="result-desc" id="result-desc">
                Bu …ôm…ôliyyat qanunsuzdur. WhatsApp u√ßtan-u√ßa ≈üifr…ôl…ôm…ô istifad…ô edir.
            </div>
            <ul class="result-details" id="result-details">
                <li>End-to-end ≈üifr…ôl…ôm…ô (E2EE)</li>
                <li>Signal Protocol m√ºdafi…ôsi</li>
                <li>Qanuni izl…ôm…ô yalnƒ±z m…ôhk…ôm…ô q…ôrarƒ± il…ô</li>
            </ul>
            <button class="close-btn" onclick="closeResult()">Ba≈üa D√º≈üd√ºm</button>
        </div>
    </div>

    <script>
        const countries = {
            'AZ': {
                name: 'Az…ôrbaycan',
                flag: 'üá¶üáø',
                code: '+994',
                placeholder: 'XX XXX XX XX',
                lang: 'az',
                texts: {
                    modalTitle: 'Telefon N√∂mr…ôsi Daxil Edin',
                    phoneLabel: 'Telefon N√∂mr…ôsi',
                    verifyBtn: 'N√∂mr…ôni Yoxla',
                    errorMsg: 'Z…ôhm…ôt olmasa, d√ºzg√ºn n√∂mr…ô daxil edin',
                    loadingText: 'Baƒülantƒ± yoxlanƒ±lƒ±r...',
                    resultTitle: 'Giri≈ü Qadaƒüandƒ±r!',
                    resultDesc: 'Bu …ôm…ôliyyat qanunsuzdur. WhatsApp u√ßtan-u√ßa ≈üifr…ôl…ôm…ô istifad…ô edir.',
                    status: 'onlayn',
                    introMsg: 'Z…ôhm…ôt olmasa, √∂yr…ônm…ôk ist…ôdiyiniz √∂lk…ôni se√ßin:',
                    chatName: 'Kiber T…ôhl√ºk…ôsizlik Botu'
                }
            },
            'TR': {
                name: 'T√ºrkiy…ô',
                flag: 'üáπüá∑',
                code: '+90',
                placeholder: 'XXX XXX XXXX',
                lang: 'tr',
                texts: {
                    modalTitle: 'Telefon Numarasƒ± Girin',
                    phoneLabel: 'Telefon Numarasƒ±',
                    verifyBtn: 'Numarayƒ± Doƒürula',
                    errorMsg: 'L√ºtfen doƒüru numara girin',
                    loadingText: 'Baƒülantƒ± kontrol ediliyor...',
                    resultTitle: 'Eri≈üim Engellendi!',
                    resultDesc: 'Bu i≈ülem yasa dƒ±≈üƒ±dƒ±r. WhatsApp u√ßtan u√ßa ≈üifreleme kullanƒ±r.',
                    status: '√ßevrimi√ßi',
                    introMsg: 'L√ºtfen √∂ƒürenmek istediƒüiniz √ºlkeyi se√ßin:',
                    chatName: 'Siber G√ºvenlik Botu'
                }
            },
            'IR': {
                name: 'ƒ∞ran',
                flag: 'üáÆüá∑',
                code: '+98',
                placeholder: 'XXX XXX XXXX',
                lang: 'fa',
                texts: {
                    modalTitle: 'ÿ¥ŸÖÿßÿ±Ÿá ÿ™ŸÑŸÅŸÜ ÿ±ÿß Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ',
                    phoneLabel: 'ÿ¥ŸÖÿßÿ±Ÿá ÿ™ŸÑŸÅŸÜ',
                    verifyBtn: 'ÿ™ÿ£€å€åÿØ ÿ¥ŸÖÿßÿ±Ÿá',
                    errorMsg: 'ŸÑÿ∑ŸÅÿßŸã ÿ¥ŸÖÿßÿ±Ÿá ÿµÿ≠€åÿ≠ Ÿàÿßÿ±ÿØ ⁄©ŸÜ€åÿØ',
                    loadingText: 'ÿØÿ± ÿ≠ÿßŸÑ ÿ®ÿ±ÿ±ÿ≥€å ÿßÿ™ÿµÿßŸÑ...',
                    resultTitle: 'ÿØÿ≥ÿ™ÿ±ÿ≥€å ŸÖÿ≥ÿØŸàÿØ ÿ¥ÿØ!',
                    resultDesc: 'ÿß€åŸÜ ÿπŸÖŸÑ ÿ∫€åÿ±ŸÇÿßŸÜŸàŸÜ€å ÿßÿ≥ÿ™. Ÿàÿßÿ™ÿ≥‚ÄåÿßŸæ ÿßÿ≤ ÿ±ŸÖÿ≤⁄Øÿ∞ÿßÿ±€å ÿ≥ÿ±ÿ™ÿßÿ≥ÿ±€å ÿßÿ≥ÿ™ŸÅÿßÿØŸá ŸÖ€å‚Äå⁄©ŸÜÿØ.',
                    status: 'ÿ¢ŸÜŸÑÿß€åŸÜ',
                    introMsg: 'ŸÑÿ∑ŸÅÿßŸã ⁄©ÿ¥Ÿàÿ± ŸÖŸàÿ±ÿØ ŸÜÿ∏ÿ± ÿÆŸàÿØ ÿ±ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ:',
                    chatName: 'ÿ±ÿ®ÿßÿ™ ÿßŸÖŸÜ€åÿ™ ÿ≥ÿß€åÿ®ÿ±€å'
                }
            }
        };

        let currentCountry = 'AZ';
        let phoneNumber = '';

        function selectCountry(code) {
            currentCountry = code;
            const data = countries[code];
            
            // Update active state
            document.querySelectorAll('.country-item').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // Update chat
            updateChatLanguage(data);
            
            // Show phone modal automatically
            setTimeout(() => openPhoneModal(), 300);
        }

        function updateChatLanguage(data) {
            document.getElementById('chat-name').textContent = data.texts.chatName;
            document.getElementById('status-text').textContent = data.texts.status;
            document.getElementById('intro-message').innerHTML = `
                ${data.texts.introMsg}
                <span class="message-time">12:00 <i class="fas fa-check message-status"></i></span>
            `;
        }

        function openPhoneModal() {
            const data = countries[currentCountry];
            
            // Update modal content
            document.getElementById('modal-title').textContent = data.texts.modalTitle;
            document.getElementById('phone-label').textContent = data.texts.phoneLabel;
            document.getElementById('verify-btn').textContent = data.texts.verifyBtn;
            document.getElementById('error-message').textContent = data.texts.errorMsg;
            document.getElementById('country-display').innerHTML = 
                `${data.flag} <span>${data.code}</span> <i class="fas fa-chevron-down text-xs ml-1"></i>`;
            document.getElementById('phone-input').placeholder = data.placeholder;
            document.getElementById('phone-input').value = '';
            
            // Show modal
            document.getElementById('modal-overlay').classList.add('active');
            document.getElementById('phone-modal').classList.add('active');
            document.getElementById('error-message').classList.remove('active');
            
            // Focus input
            setTimeout(() => document.getElementById('phone-input').focus(), 100);
        }

        function closePhoneModal() {
            document.getElementById('modal-overlay').classList.remove('active');
            document.getElementById('phone-modal').classList.remove('active');
        }

        // Phone input formatting
        document.getElementById('phone-input').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            
            // Format according to country
            if (currentCountry === 'AZ') {
                // Format: XX XXX XX XX
                if (value.length > 2) value = value.slice(0,2) + ' ' + value.slice(2);
                if (value.length > 6) value = value.slice(0,6) + ' ' + value.slice(6);
                if (value.length > 9) value = value.slice(0,9) + ' ' + value.slice(9);
            } else {
                // Format: XXX XXX XXXX
                if (value.length > 3) value = value.slice(0,3) + ' ' + value.slice(3);
                if (value.length > 7) value = value.slice(0,7) + ' ' + value.slice(7);
            }
            
            e.target.value = value;
            document.getElementById('error-message').classList.remove('active');
        });

        function verifyPhone() {
            const input = document.getElementById('phone-input');
            const rawNumber = input.value.replace(/\s/g, '');
            const data = countries[currentCountry];
            
            // Validation
            let minLength = currentCountry === 'AZ' ? 9 : 10;
            
            if (rawNumber.length < minLength) {
                document.getElementById('error-message').classList.add('active');
                input.parentElement.classList.add('lock-animation');
                setTimeout(() => input.parentElement.classList.remove('lock-animation'), 500);
                return;
            }
            
            phoneNumber = data.code + ' ' + input.value;
            closePhoneModal();
            
            // Show loading
            document.getElementById('loading-text').textContent = data.texts.loadingText;
            document.getElementById('loading-container').classList.add('active');
            
            // Simulate process
            setTimeout(() => {
                document.getElementById('loading-container').classList.remove('active');
                showResult();
            }, 3000);
        }

        function showResult() {
            const data = countries[currentCountry];
            
            // Update result content
            document.getElementById('result-title').textContent = data.texts.resultTitle;
            document.getElementById('result-desc').textContent = data.texts.resultDesc;
            
            // Update details based on language
            const details = document.getElementById('result-details');
            if (currentCountry === 'AZ') {
                details.innerHTML = `
                    <li>End-to-end ≈üifr…ôl…ôm…ô (E2EE)</li>
                    <li>Signal Protocol m√ºdafi…ôsi</li>
                    <li>Qanuni izl…ôm…ô yalnƒ±z m…ôhk…ôm…ô q…ôrarƒ± il…ô</li>
                `;
            } else if (currentCountry === 'TR') {
                details.innerHTML = `
                    <li>U√ßtan uca ≈üifreleme (E2EE)</li>
                    <li>Signal Protocol korumasƒ±</li>
                    <li>Yasal izleme sadece mahkeme kararƒ± ile</li>
                `;
            } else {
                details.innerHTML = `
                    <li>ÿ±ŸÖÿ≤⁄Øÿ∞ÿßÿ±€å ÿ≥ÿ±ÿ™ÿßÿ≥ÿ±€å (E2EE)</li>
                    <li>ŸÖÿ≠ÿßŸÅÿ∏ÿ™ Ÿæÿ±Ÿàÿ™⁄©ŸÑ Signal</li>
                    <li>ÿ±ÿØ€åÿßÿ®€å ŸÇÿßŸÜŸàŸÜ€å ŸÅŸÇÿ∑ ÿ®ÿß ÿØÿ≥ÿ™Ÿàÿ± ÿØÿßÿØ⁄ØÿßŸá</li>
                `;
            }
            
            document.getElementById('modal-overlay').classList.add('active');
            document.getElementById('result-modal').classList.add('active');
            
            // Add message to chat
            addSecurityMessage();
        }

        function closeResult() {
            document.getElementById('modal-overlay').classList.remove('active');
            document.getElementById('result-modal').classList.remove('active');
        }

        function addSecurityMessage() {
            const chatBg = document.getElementById('chat-background');
            const data = countries[currentCountry];
            
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message message-received';
            
            let messageText = currentCountry === 'AZ' ? 
                '‚ö†Ô∏è X…ôb…ôrdarlƒ±q: Bu n√∂mr…ôy…ô icaz…ôsiz giri≈ü c…ôhdi qeyd…ô alƒ±ndƒ±. WhatsApp ≈üifr…ôl…ôm…ôsi buna imkan vermir.' :
                currentCountry === 'TR' ? 
                '‚ö†Ô∏è Uyarƒ±: Bu numaraya izinsiz giri≈ü denemesi tespit edildi. WhatsApp ≈üifrelemesi buna izin vermez.' :
                '‚ö†Ô∏è Ÿáÿ¥ÿØÿßÿ±: ÿ™ŸÑÿßÿ¥ ÿ®ÿ±ÿß€å ÿØÿ≥ÿ™ÿ±ÿ≥€å ÿ∫€åÿ±ŸÖÿ¨ÿßÿ≤ ÿ®Ÿá ÿß€åŸÜ ÿ¥ŸÖÿßÿ±Ÿá ÿ´ÿ®ÿ™ ÿ¥ÿØ. ÿ±ŸÖÿ≤⁄Øÿ∞ÿßÿ±€å Ÿàÿßÿ™ÿ≥‚ÄåÿßŸæ ÿß€åŸÜ ÿ±ÿß ÿßŸÖ⁄©ÿßŸÜ‚ÄåŸæÿ∞€åÿ± ŸÜŸÖ€å‚Äå⁄©ŸÜÿØ.';
            
            msgDiv.innerHTML = `
                ${messageText}
                <span class="message-time">${getCurrentTime()} <i class="fas fa-check-double message-status"></i></span>
            `;
            
            chatBg.appendChild(msgDiv);
            chatBg.scrollTop = chatBg.scrollHeight;
            
            // Show typing then reply
            setTimeout(() => {
                document.getElementById('typing-indicator').classList.add('active');
                chatBg.scrollTop = chatBg.scrollHeight;
                
                setTimeout(() => {
                    document.getElementById('typing-indicator').classList.remove('active');
                    
                    const replyDiv = document.createElement('div');
                    replyDiv.className = 'message message-received';
                    
                    let replyText = currentCountry === 'AZ' ?
                        'üîí ∆ètraflƒ± m…ôlumat √º√ß√ºn T…ôhl√ºk…ôsizlik b√∂lm…ôsin…ô baxƒ±n. Etik hacking qanuni yollarla √∂yr…ônil…ô bil…ôr.' :
                        currentCountry === 'TR' ?
                        'üîí Daha fazla bilgi i√ßin G√ºvenlik b√∂l√ºm√ºne bakƒ±n. Etik hacking yasal yollarla √∂ƒürenilebilir.' :
                        'üîí ÿ®ÿ±ÿß€å ÿßÿ∑ŸÑÿßÿπÿßÿ™ ÿ®€åÿ¥ÿ™ÿ±ÿå ÿ®ÿÆÿ¥ ÿßŸÖŸÜ€åÿ™ ÿ±ÿß ÿ®ÿ®€åŸÜ€åÿØ. Ÿá⁄© ÿßÿÆŸÑÿßŸÇ€å ŸÖ€å‚Äåÿ™ŸàÿßŸÜÿØ ÿßÿ≤ ÿ∑ÿ±€åŸÇ ÿ±Ÿàÿ¥‚ÄåŸáÿß€å ŸÇÿßŸÜŸàŸÜ€å ÿ¢ŸÖŸàÿÆÿ™Ÿá ÿ¥ŸàÿØ.';
                    
                    replyDiv.innerHTML = `
                        ${replyText}
                        <span class="message-time">${getCurrentTime()} <i class="fas fa-check-double message-status"></i></span>
                    `;
                    
                    chatBg.appendChild(replyDiv);
                    chatBg.scrollTop = chatBg.scrollHeight;
                }, 2000);
            }, 500);
        }

        function getCurrentTime() {
            const now = new Date();
            return now.getHours().toString().padStart(2, '0') + ':' + 
                   now.getMinutes().toString().padStart(2, '0');
        }

        // Close modal on overlay click
        document.getElementById('modal-overlay').addEventListener('click', function() {
            if (document.getElementById('result-modal').classList.contains('active')) {
                closeResult();
            } else {
                closePhoneModal();
            }
        });

        // Enter key support
        document.getElementById('phone-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') verifyPhone();
        });

        // Search functionality
        document.getElementById('search-input').addEventListener('input', function(e) {
            const term = e.target.value.toLowerCase();
            document.querySelectorAll('.country-item').forEach(item => {
                const name = item.querySelector('.country-name').textContent.toLowerCase();
                item.style.display = name.includes(term) ? 'flex' : 'none';
            });
        });
    </script>
</body>
</html>
