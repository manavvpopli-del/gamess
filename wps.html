<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Hack Simulator - Azerbaijan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

        * { font-family: 'Roboto', sans-serif; }

        .whatsapp-green { background-color: #128C7E; }
        .whatsapp-dark { background-color: #075E54; }
        .whatsapp-light { background-color: #25D366; }
        .chat-bg { 
            background-color: #E5DDD5; 
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIj48ZmlsdGVyIGlkPSJnoiPjxmZVR1cmJ1bGVuY2UgdHlwZT0iZnJhY3RhbE5vaXNlIiBiYXNlRnJlcXVlbmN5PSIwLjY1IiBudW1PY3RhdmVzPSIzIiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsdGVyPSJ1cmwoI2cpIiBvcGFjaXR5PSIwLjA1Ii8+PC9zdmc+');
        }

        .hacking-text { font-family: 'Courier New', monospace; }

        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        .scanline::after {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; height: 2px;
            background: rgba(0, 255, 0, 0.5);
            animation: scanline 2s linear infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .pulse { animation: pulse 1.5s ease-in-out infinite; }

        .message-received {
            background: white;
            border-radius: 7.5px;
            border-top-left-radius: 0;
            max-width: 65%;
            padding: 8px 12px;
            margin: 4px 0;
            box-shadow: 0 1px 0.5px rgba(0,0,0,0.13);
            position: relative;
            animation: slideIn 0.3s ease;
        }

        .message-sent {
            background: #DCF8C6;
            border-radius: 7.5px;
            border-top-right-radius: 0;
            max-width: 65%;
            padding: 8px 12px;
            margin: 4px 0;
            margin-left: auto;
            box-shadow: 0 1px 0.5px rgba(0,0,0,0.13);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .typing-dot {
            width: 8px; height: 8px;
            background: #90949c;
            border-radius: 50%;
            display: inline-block;
            animation: typing 1.4s infinite;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        .hidden { display: none !important; }

        .fade-in { animation: fadeIn 0.5s ease-in; }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .chat-item {
            transition: all 0.2s;
            cursor: pointer;
        }

        .chat-item:hover { background-color: #F5F5F5; }
        .chat-item.active { background-color: #E9EDEF; }

        .call-incoming { color: #10B981; }
        .call-outgoing { color: #3B82F6; }
        .call-missed { color: #EF4444; }

        .security-input {
            font-family: 'Courier New', monospace;
            letter-spacing: 4px;
            font-size: 20px;
            font-weight: bold;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94A3B8; }

        .online-status {
            position: relative;
        }
        .online-status::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 12px;
            height: 12px;
            background: #22C55E;
            border: 2px solid white;
            border-radius: 50%;
        }

        .unread-badge {
            background: #25D366;
            color: white;
            font-size: 12px;
            font-weight: 600;
            min-width: 20px;
            height: 20px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 6px;
        }

        .chat-meta {
            font-size: 11px;
            color: #9CA3AF;
        }

        .chat-meta.unread {
            color: #25D366;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-900 min-h-screen">

    <!-- Stage 1: Login Screen -->
    <div id="stage1" class="min-h-screen flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full fade-in">
            <div class="text-center mb-8">
                <div class="w-20 h-20 whatsapp-green rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse">
                    <i class="fab fa-whatsapp text-4xl text-white"></i>
                </div>
                <h1 class="text-2xl font-bold text-gray-800 mb-2">WhatsApp Access Tool</h1>
                <p class="text-gray-500 text-sm">H…ôd…ôf n√∂mr…ôni daxil et</p>
            </div>

            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Telefon n√∂mr…ôsi</label>
                    <div class="relative">
                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 flex items-center gap-2 pointer-events-none">
                            <span class="text-2xl">üá¶üáø</span>
                            <span class="text-gray-400 font-medium">+994</span>
                        </div>
                        <input 
                            type="text" 
                            id="phoneInput" 
                            class="w-full pl-24 pr-4 py-4 border-2 border-gray-300 rounded-lg security-input focus:outline-none focus:border-green-500 transition-colors text-gray-600"
                            placeholder="** *** ** **"
                            maxlength="12"
                            autocomplete="off"
                        >
                    </div>
                    <p class="text-xs text-gray-400 mt-2">‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢</p>
                </div>

                <button onclick="startHack()" class="w-full whatsapp-green text-white font-bold py-4 rounded-lg hover:bg-green-700 transition-all transform hover:scale-105 flex items-center justify-center gap-2 text-lg shadow-lg">
                    <i class="fas fa-unlock-alt"></i>
                    <span>Sistemi A√ß</span>
                </button>
            </div>

            <div class="mt-6 text-center">
                <p class="text-xs text-gray-400">üîí End-to-end ≈üifr…ôl…ôm…ô simulyasiyasƒ±</p>
            </div>
        </div>
    </div>

    <!-- Stage 2: Hacking Animation -->
    <div id="stage2" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="bg-black rounded-2xl shadow-2xl p-8 max-w-3xl w-full min-h-[500px] relative overflow-hidden border border-green-900">
            <div class="scanline absolute inset-0 pointer-events-none"></div>

            <div class="flex items-center justify-between mb-6 border-b border-green-800 pb-4">
                <div class="flex items-center gap-3">
                    <i class="fas fa-terminal text-green-500 text-2xl"></i>
                    <span class="text-green-400 font-mono">root@whatsapp-exploit:~#</span>
                </div>
                <div class="flex gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                </div>
            </div>

            <div class="hacking-text text-green-400 font-mono text-sm leading-relaxed h-80 overflow-hidden" id="hackConsole"></div>

            <div class="absolute bottom-8 left-8 right-8">
                <div class="flex justify-between text-green-400 text-xs mb-2 font-mono">
                    <span id="currentOperation">Baƒülantƒ± qurulur...</span>
                    <span id="progressPercent">0%</span>
                </div>
                <div class="w-full bg-gray-900 rounded-full h-3 border border-green-800">
                    <div id="progressBar" class="bg-gradient-to-r from-green-600 to-green-400 h-3 rounded-full transition-all duration-300 shadow-[0_0_10px_rgba(34,197,94,0.5)]" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stage 3: WhatsApp Full Interface -->
    <div id="stage3" class="hidden h-screen w-full bg-gray-100 flex overflow-hidden">

        <!-- Left Sidebar -->
        <div class="w-[400px] bg-white flex flex-col border-r border-gray-300 shadow-xl">

            <!-- Header -->
            <div class="whatsapp-dark text-white p-3 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <img id="userAvatar" src="" class="w-10 h-10 rounded-full bg-gray-300 object-cover border-2 border-green-400">
                    <span class="font-medium" id="userName">Hackl…ônmi≈ü Hesab</span>
                </div>
                <div class="flex gap-4 text-gray-300">
                    <button class="hover:text-white transition"><i class="fas fa-circle-notch"></i></button>
                    <button class="hover:text-white transition"><i class="fas fa-comment-alt"></i></button>
                    <button class="hover:text-white transition"><i class="fas fa-ellipsis-v"></i></button>
                </div>
            </div>

            <!-- Search -->
            <div class="p-2 bg-gray-100">
                <div class="bg-white rounded-lg flex items-center px-4 py-2 shadow-sm">
                    <i class="fas fa-search text-gray-400 mr-3"></i>
                    <input type="text" placeholder="Axtarƒ±≈ü v…ô ya yeni s√∂hb…ôt ba≈ülat" class="flex-1 outline-none text-sm bg-transparent">
                </div>
            </div>

            <!-- Tabs -->
            <div class="flex border-b border-gray-200">
                <button onclick="switchTab('chats')" id="tab-chats" class="flex-1 py-3 text-green-600 font-medium text-sm border-b-2 border-green-600 bg-gray-50">
                    S√ñHB∆èTL∆èR
                </button>
                <button onclick="switchTab('calls')" id="tab-calls" class="flex-1 py-3 text-gray-500 font-medium text-sm hover:bg-gray-50 transition">
                    Z∆èNGL∆èR
                </button>
                <button onclick="switchTab('status')" id="tab-status" class="flex-1 py-3 text-gray-500 font-medium text-sm hover:bg-gray-50 transition">
                    STATUS
                </button>
            </div>

            <!-- Lists -->
            <div class="flex-1 overflow-y-auto bg-white" id="sidebarContent">
                <!-- Chats -->
                <div id="chatsList" class="divide-y divide-gray-100"></div>
                <!-- Calls -->
                <div id="callsList" class="hidden divide-y divide-gray-100"></div>
                <!-- Status -->
                <div id="statusList" class="hidden"></div>
            </div>
        </div>

        <!-- Right Chat Area -->
        <div class="flex-1 flex flex-col bg-gray-100" id="chatArea">

            <!-- Empty State -->
            <div id="emptyState" class="flex-1 flex flex-col items-center justify-center text-gray-500">
                <div class="w-80 h-80 rounded-full bg-green-50 flex items-center justify-center mb-6">
                    <i class="fab fa-whatsapp text-9xl text-gray-300"></i>
                </div>
                <h2 class="text-3xl font-light mb-2 text-gray-600">WhatsApp Web</h2>
                <p class="text-sm">S√∂hb…ôt…ô ba≈ülamaq √º√ß√ºn sol paneld…ôn bir …ôlaq…ô se√ßin</p>
                <div class="mt-8 flex items-center gap-2 text-xs text-gray-400">
                    <i class="fas fa-lock"></i>
                    <span>End-to-end ≈üifr…ôl…ôm…ô il…ô qorunur</span>
                </div>
            </div>

            <!-- Active Chat (Hidden by default) -->
            <div id="activeChat" class="hidden flex-col h-full">
                <!-- Chat Header -->
                <div class="whatsapp-dark text-white p-3 flex items-center justify-between shadow-md">
                    <div class="flex items-center gap-3">
                        <img id="chatAvatar" src="" class="w-10 h-10 rounded-full bg-gray-300 object-cover online-status">
                        <div>
                            <h3 id="chatName" class="font-semibold"></h3>
                            <p id="chatStatus" class="text-green-200 text-xs">onlayn</p>
                        </div>
                    </div>
                    <div class="flex gap-5 text-gray-300">
                        <button class="hover:text-white"><i class="fas fa-search"></i></button>
                        <button class="hover:text-white"><i class="fas fa-paperclip"></i></button>
                        <button class="hover:text-white"><i class="fas fa-ellipsis-v"></i></button>
                    </div>
                </div>

                <!-- Messages -->
                <div id="messagesContainer" class="flex-1 overflow-y-auto p-4 chat-bg space-y-2">
                    <div class="text-center my-4">
                        <span class="bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full">BU G√úN</span>
                    </div>
                </div>

                <!-- Input -->
                <div class="bg-gray-200 p-3 flex items-center gap-3">
                    <button class="text-gray-600 hover:text-gray-800 text-xl px-2"><i class="far fa-smile"></i></button>
                    <button class="text-gray-600 hover:text-gray-800 text-xl px-2"><i class="fas fa-paperclip"></i></button>
                    <input type="text" placeholder="Mesaj yazƒ±n..." class="flex-1 bg-white rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm">
                    <button class="whatsapp-green text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-green-700 transition shadow-md">
                        <i class="fas fa-microphone"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data
        const azNames = [
            "Nigar H…ôs…ônli", "Orxan M…ômm…ôdov", "Leyla ∆èliyeva", "Kamran ƒ∞smayƒ±lov", 
            "Aysel Quliyeva", "R…ô≈üad H√ºseynov", "Zarina Abdullayeva", "Tural S…ôf…ôrov",
            "G√ºnay M…ômm…ôdova", "El√ßin ∆èhm…ôdov", "N…ôrmin ƒ∞brahimova", "V√ºqar Abbasov",
            "Sevinc ∆èlizad…ô", "Farid M…ômm…ôdli", "Ayt…ôn H√ºseynova", "Rauf Qasƒ±mov",
            "Lala F…ôrhadova", "Samir Quliyev", "Nazrin ∆èhm…ôdova", "Emil ƒ∞smayƒ±lov",
            "G√ºl…ôr ∆èliyeva", "Tahir M…ômm…ôdov", "≈û…ôfa…ôt Quliyev", "L…ôtif…ô H√ºseynova"
        ];

        const azMessages = [
            "Salam, nec…ôs…ôn? ü§î",
            "Sabah saat 3-d…ô g√∂r√º≈ü…ôk?",
            "Bu g√ºn hava √ßox g√∂z…ôldir ‚òÄÔ∏è",
            "M…ôn…ô o faylƒ± g√∂nd…ôr…ô bil…ôrs…ôn?",
            "Ma≈üƒ±n almaƒüa gedirik, g…ôlirs…ôn? üöó",
            "S…ôn d…ô g…ôl…ôc…ôks…ôn toyumuza?",
            "Pul k√∂√ß√ºrd√ºm, g√∂rd√ºn? üí∞",
            "Bu ≈ü…ôkili g√∂rm√ºs…ôn? üòÇ",
            "ƒ∞≈üd…ô √ßox y√ºkl√º g√ºn ke√ßdi...",
            "Ax≈üam √ßay i√ßm…ôy…ô ged…ôk? ‚òï",
            "O m…ôlumatƒ± tapa bildin?",
            "Anam soru≈üur n…ô vaxt g…ôlirs…ôn",
            "Bu g√ºn alƒ±≈ü-veri≈ü etdim üí∏",
            "Yeni telefon aldƒ±m! üì±",
            "Filmi izl…ôdin? √áox g√∂z…ôl idi",
            "Sabah imtahanƒ±m var, dua et üôè",
            "Restoranda rezerv etdirdim",
            "U≈üaqlar salam deyir üë∂",
            "Bu h…ôft…ôsonu d…ôniz…ô gedirik? üèñÔ∏è",
            "Ofis…ô gecikir…ôm, ba≈üla siz",
            "N…ô vaxt bo≈üsan z…ông et üìû",
            "Bu ≈ü…ôrti q…ôbul edirs…ôn? ü§ù",
            "Maa≈ü artƒ±mƒ± oldu mu? üíµ",
            "Kredit √∂d…ôni≈üi bu g√ºnd√ºr",
            "Yeni i≈ü t…ôklifi aldƒ±m üéâ"
        ];

        const azGroups = [
            "Ail…ô Qrupu ‚ù§Ô∏è",
            "ƒ∞≈ü Yolda≈ülarƒ±",
            "Sinif Yolda≈ülarƒ± 11-A",
            "Futbol Komandasƒ± ‚öΩ",
            "Qon≈üular",
            "Kuzenl…ôr",
            "Dostlar üéÆ",
            "Kitab Klubu üìö"
        ];

        let generatedData = { chats: [], calls: [], statuses: [] };
        let currentChat = null;

        // Phone input with stars
        document.getElementById('phoneInput').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formatted = '';

            if (value.length > 0) {
                if (value.length <= 2) {
                    formatted = value;
                } else if (value.length <= 5) {
                    formatted = value.slice(0, 2) + ' ' + value.slice(2);
                } else if (value.length <= 7) {
                    formatted = value.slice(0, 2) + ' ' + value.slice(2, 5) + ' ' + value.slice(5);
                } else {
                    formatted = value.slice(0, 2) + ' ' + value.slice(2, 5) + ' ' + value.slice(5, 7) + ' ' + value.slice(7, 9);
                }
            }

            // Convert to stars for display but keep actual value
            let displayValue = formatted.replace(/\d/g, '*');

            // Store actual value in dataset
            e.target.dataset.value = formatted;

            // Only update if not navigating (to prevent cursor jumping)
            if (e.inputType !== 'deleteContentBackward') {
                e.target.value = displayValue;
            }
        });

        // Handle backspace properly
        document.getElementById('phoneInput').addEventListener('keydown', function(e) {
            if (e.key === 'Backspace') {
                let value = this.dataset.value || '';
                value = value.replace(/\s/g, '').slice(0, -1);
                this.dataset.value = value;

                // Trigger input event manually
                let formatted = '';
                if (value.length <= 2) formatted = value;
                else if (value.length <= 5) formatted = value.slice(0, 2) + ' ' + value.slice(2);
                else if (value.length <= 7) formatted = value.slice(0, 2) + ' ' + value.slice(2, 5) + ' ' + value.slice(5);
                else formatted = value.slice(0, 2) + ' ' + value.slice(2, 5) + ' ' + value.slice(5, 7) + ' ' + value.slice(7);

                this.value = formatted.replace(/\d/g, '*');
                e.preventDefault();
            }
        });

        function generateFakeData() {
            const chats = [];
            const usedNames = new Set();

            // Generate 15-20 individual chats
            const numPersonal = 15 + Math.floor(Math.random() * 6);
            for (let i = 0; i < numPersonal; i++) {
                let name;
                do {
                    name = azNames[Math.floor(Math.random() * azNames.length)];
                } while (usedNames.has(name));
                usedNames.add(name);

                const numMessages = 5 + Math.floor(Math.random() * 25);
                const messages = [];
                let lastTime = new Date();
                lastTime.setMinutes(lastTime.getMinutes() - Math.floor(Math.random() * 10080)); // Last week

                for (let j = 0; j < numMessages; j++) {
                    const isSent = Math.random() > 0.45;
                    lastTime = new Date(lastTime.getTime() + Math.floor(Math.random() * 3600000));
                    if (lastTime > new Date()) lastTime = new Date();

                    messages.push({
                        text: azMessages[Math.floor(Math.random() * azMessages.length)],
                        sent: isSent,
                        time: lastTime,
                        read: isSent && Math.random() > 0.2
                    });
                }

                // Sort by time
                messages.sort((a, b) => a.time - b.time);

                const lastMsg = messages[messages.length - 1];
                const timeStr = formatTime(lastMsg.time);

                chats.push({
                    id: i,
                    name: name,
                    avatar: `https://i.pravatar.cc/150?u=${name}`,
                    lastMessage: lastMsg.text,
                    time: timeStr,
                    unread: Math.floor(Math.random() * 8),
                    messages: messages,
                    isGroup: false,
                    online: Math.random() > 0.7
                });
            }

            // Generate 5-8 groups
            const numGroups = 5 + Math.floor(Math.random() * 4);
            for (let i = 0; i < numGroups; i++) {
                const groupName = azGroups[i % azGroups.length];
                const numMessages = 10 + Math.floor(Math.random() * 30);
                const messages = [];
                let lastTime = new Date();
                lastTime.setMinutes(lastTime.getMinutes() - Math.floor(Math.random() * 4320)); // Last 3 days

                for (let j = 0; j < numMessages; j++) {
                    const isSent = Math.random() > 0.8;
                    lastTime = new Date(lastTime.getTime() + Math.floor(Math.random() * 1800000));
                    if (lastTime > new Date()) lastTime = new Date();

                    const sender = isSent ? 'Siz' : azNames[Math.floor(Math.random() * azNames.length)];
                    messages.push({
                        text: azMessages[Math.floor(Math.random() * azMessages.length)],
                        sent: isSent,
                        sender: sender,
                        time: lastTime,
                        read: true
                    });
                }

                messages.sort((a, b) => a.time - b.time);
                const lastMsg = messages[messages.length - 1];

                chats.push({
                    id: numPersonal + i,
                    name: groupName,
                    avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(groupName)}&background=128C7E&color=fff&size=150`,
                    lastMessage: `${lastMsg.sender}: ${lastMsg.text}`,
                    time: formatTime(lastMsg.time),
                    unread: Math.floor(Math.random() * 25),
                    messages: messages,
                    isGroup: true,
                    online: false
                });
            }

            // Sort chats by last message time
            chats.sort((a, b) => {
                const timeA = a.messages[a.messages.length - 1].time;
                const timeB = b.messages[b.messages.length - 1].time;
                return timeB - timeA;
            });

            // Generate calls
            const calls = [];
            for (let i = 0; i < 25; i++) {
                const types = ['incoming', 'outgoing', 'missed'];
                const type = types[Math.floor(Math.random() * types.length)];
                const duration = type === 'missed' ? 0 : Math.floor(Math.random() * 600);
                const time = new Date();
                time.setMinutes(time.getMinutes() - Math.floor(Math.random() * 10080));

                calls.push({
                    name: azNames[Math.floor(Math.random() * azNames.length)],
                    type: type,
                    duration: duration,
                    time: time,
                    avatar: `https://i.pravatar.cc/150?u=${Math.random()}`
                });
            }

            // Generate statuses
            const statuses = [];
            for (let i = 0; i < 12; i++) {
                const time = new Date();
                time.setHours(time.getHours() - Math.floor(Math.random() * 24));
                statuses.push({
                    name: azNames[Math.floor(Math.random() * azNames.length)],
                    time: time,
                    viewed: Math.random() > 0.6,
                    avatar: `https://i.pravatar.cc/150?u=${Math.random()}`
                });
            }

            generatedData = { chats, calls, statuses };
        }

        function formatTime(date) {
            const now = new Date();
            const diff = now - date;
            const days = Math.floor(diff / 86400000);

            if (days === 0) {
                return date.toLocaleTimeString('az-AZ', { hour: '2-digit', minute: '2-digit' });
            } else if (days === 1) {
                return 'D√ºn…ôn';
            } else {
                return date.toLocaleDateString('az-AZ', { day: 'numeric', month: 'short' });
            }
        }

        function startHack() {
            const input = document.getElementById('phoneInput');
            const realValue = (input.dataset.value || '').replace(/\s/g, '');

            if (realValue.length < 9) {
                input.classList.add('border-red-500');
                setTimeout(() => input.classList.remove('border-red-500'), 1000);
                return;
            }

            generateFakeData();

            document.getElementById('stage1').classList.add('hidden');
            document.getElementById('stage2').classList.remove('hidden');

            runHackingAnimation();
        }

        function runHackingAnimation() {
            const consoleEl = document.getElementById('hackConsole');
            const progressEl = document.getElementById('progressPercent');
            const progressBar = document.getElementById('progressBar');
            const operationEl = document.getElementById('currentOperation');

            const operations = [
                { text: "Mobil operator ≈ü…ôb…ôk…ôsin…ô baƒülanƒ±r...", cmd: `> telnet 185.30.**.*** 443` },
                { text: "Avtorizasiya tokenl…ôri …ôld…ô edilir...", cmd: `> GET /auth/session` },
                { text: "AES-256 ≈üifr…ôl…ôm…ô a≈üƒ±lƒ±r...", cmd: `> decrypt --mode=AES256 --key=0x${Math.random().toString(16).substr(2, 8)}` },
                { text: "WhatsApp Web sessiyasƒ± klonlanƒ±r...", cmd: `> clone_session --target=web.whatsapp.com` },
                { text: "Mesajlar sinxronizasiya edilir...", cmd: `> sync messages --limit=1000` },
                { text: "Media kontent y√ºkl…ônir...", cmd: `> fetch media --type=image,video` },
                { text: "Z…ông tarix√ß…ôsi b…ôrpa edilir...", cmd: `> restore calls --days=30` },
                { text: "Kontakt siyahƒ±sƒ± …ôld…ô edilir...", cmd: `> dump contacts` },
                { text: "QR kod bypass edilir...", cmd: `> bypass qr_auth` },
                { text: "Sessiya stabil v…ôziyy…ôt…ô g…ôtirilir...", cmd: `> stabilize connection` }
            ];

            let i = 0;
            const totalSteps = operations.length;

            const interval = setInterval(() => {
                if (i < totalSteps) {
                    consoleEl.innerHTML += `<div class="mb-1">${operations[i].cmd}</div>`;
                    consoleEl.innerHTML += `<div class="text-green-600 mb-2">> OK [200] Response received (${Math.floor(Math.random() * 100)}ms)</div>`;
                    consoleEl.scrollTop = consoleEl.scrollHeight;

                    operationEl.textContent = operations[i].text;
                    const progress = Math.round(((i + 1) / totalSteps) * 100);
                    progressEl.textContent = progress + "%";
                    progressBar.style.width = progress + "%";

                    i++;
                } else {
                    clearInterval(interval);
                    operationEl.textContent = "Giri≈ü uƒüurlu! Y√∂nl…ôndirilir...";
                    setTimeout(showWhatsAppInterface, 800);
                }
            }, 600);
        }

        function showWhatsAppInterface() {
            document.getElementById('stage2').classList.add('hidden');
            document.getElementById('stage3').classList.remove('hidden');

            // Set random user info
            const randomName = azNames[Math.floor(Math.random() * azNames.length)];
            document.getElementById('userName').textContent = randomName;
            document.getElementById('userAvatar').src = `https://i.pravatar.cc/150?u=${randomName}`;

            renderChatsList();
            renderCallsList();
            renderStatusList();
        }

        function renderChatsList() {
            const container = document.getElementById('chatsList');

            container.innerHTML = generatedData.chats.map((chat, index) => `
                <div onclick="openChat(${index})" class="chat-item p-3 flex items-center gap-3 ${currentChat === index ? 'active' : ''}">
                    <div class="relative">
                        <img src="${chat.avatar}" class="w-12 h-12 rounded-full object-cover bg-gray-200">
                        ${chat.online ? '<div class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"></div>' : ''}
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex justify-between items-center mb-0.5">
                            <h4 class="font-semibold text-gray-800 text-[15px] truncate">${chat.name}</h4>
                            <span class="chat-meta ${chat.unread > 0 ? 'unread' : ''}">${chat.time}</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <p class="text-sm text-gray-600 truncate pr-2">${chat.isGroup && chat.lastMessage.includes(':') ? chat.lastMessage : (chat.messages[chat.messages.length-1].sent ? '<i class="fas fa-check-double text-blue-400 mr-1"></i>' : '') + chat.lastMessage}</p>
                            ${chat.unread > 0 ? `<span class="unread-badge">${chat.unread}</span>` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderCallsList() {
            const container = document.getElementById('callsList');

            container.innerHTML = generatedData.calls.map(call => {
                let iconClass, typeText, colorClass;
                if (call.type === 'incoming') {
                    iconClass = 'fa-arrow-down';
                    colorClass = 'call-incoming';
                    typeText = 'G…ôl…ôn z…ông';
                } else if (call.type === 'outgoing') {
                    iconClass = 'fa-arrow-up';
                    colorClass = 'call-outgoing';
                    typeText = 'Ged…ôn z…ông';
                } else {
                    iconClass = 'fa-phone-slash';
                    colorClass = 'call-missed';
                    typeText = 'Cavabsƒ±z z…ông';
                }

                const duration = call.duration > 0 ? 
                    `(${Math.floor(call.duration/60)}:${(call.duration%60).toString().padStart(2,'0')})` : '';

                return `
                    <div class="p-3 flex items-center gap-3 hover:bg-gray-50 cursor-pointer">
                        <img src="${call.avatar}" class="w-12 h-12 rounded-full object-cover bg-gray-200">
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800">${call.name}</h4>
                            <p class="text-sm ${colorClass}">
                                <i class="fas ${iconClass} mr-1"></i>
                                ${typeText} ${duration}
                            </p>
                        </div>
                        <div class="flex flex-col items-end gap-1">
                            <span class="text-xs text-gray-500">${formatTime(call.time)}</span>
                            <button class="text-green-600 hover:bg-green-50 p-2 rounded-full">
                                <i class="fas fa-phone"></i>
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderStatusList() {
            const container = document.getElementById('statusList');

            const myStatus = `
                <div class="p-4 flex items-center gap-4 cursor-pointer hover:bg-gray-50">
                    <div class="relative">
                        <img src="${document.getElementById('userAvatar').src}" class="w-14 h-14 rounded-full object-cover bg-gray-200 p-0.5 border-2 border-dashed border-gray-400">
                        <div class="absolute bottom-0 right-0 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center border-2 border-white">
                            <i class="fas fa-plus text-xs"></i>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-800">M…ônim statusum</h4>
                        <p class="text-sm text-gray-500">Status …ôlav…ô et</p>
                    </div>
                </div>
                <div class="px-4 py-2 bg-gray-100">
                    <h5 class="text-xs font-semibold text-gray-600 uppercase">Son yenil…ôm…ôl…ôr</h5>
                </div>
            `;

            const othersStatus = generatedData.statuses.map(status => {
                const hours = Math.floor((new Date() - status.time) / 3600000);
                const timeText = hours === 0 ? 'ƒ∞ndi' : `${hours} saat …ôvv…ôl`;

                return `
                    <div class="p-4 flex items-center gap-4 cursor-pointer hover:bg-gray-50">
                        <div class="relative">
                            <div class="w-14 h-14 rounded-full p-0.5 ${status.viewed ? 'bg-gray-300' : 'bg-gradient-to-tr from-yellow-400 via-red-500 to-pink-500'}">
                                <img src="${status.avatar}" class="w-full h-full rounded-full object-cover border-2 border-white">
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800">${status.name}</h4>
                            <p class="text-sm text-gray-500">${timeText}</p>
                        </div>
                    </div>
                `;
            }).join('');

            container.innerHTML = myStatus + othersStatus;
        }

        function switchTab(tab) {
            // Update tab styles
            ['chats', 'calls', 'status'].forEach(t => {
                const btn = document.getElementById(`tab-${t}`);
                if (t === tab) {
                    btn.className = "flex-1 py-3 text-green-600 font-medium text-sm border-b-2 border-green-600 bg-gray-50";
                } else {
                    btn.className = "flex-1 py-3 text-gray-500 font-medium text-sm hover:bg-gray-50 transition";
                }
            });

            // Show/hide content
            document.getElementById('chatsList').classList.add('hidden');
            document.getElementById('callsList').classList.add('hidden');
            document.getElementById('statusList').classList.add('hidden');
            document.getElementById(`${tab}List`).classList.remove('hidden');
        }

        function openChat(index) {
            currentChat = index;
            const chat = generatedData.chats[index];

            // Update UI
            renderChatsList(); // To update active state

            document.getElementById('emptyState').classList.add('hidden');
            document.getElementById('activeChat').classList.remove('hidden');
            document.getElementById('activeChat').classList.add('flex');

            document.getElementById('chatName').textContent = chat.name;
            document.getElementById('chatAvatar').src = chat.avatar;
            document.getElementById('chatStatus').textContent = chat.online ? 'onlayn' : 'son g√∂r√ºlm…ô: bu g√ºn 14:30';

            // Render messages
            const container = document.getElementById('messagesContainer');
            container.innerHTML = '<div class="text-center my-4"><span class="bg-blue-100 text-blue-800 text-xs px-3 py-1 rounded-full">BU G√úN</span></div>';

            chat.messages.forEach((msg, idx) => {
                const timeStr = msg.time.toLocaleTimeString('az-AZ', { hour: '2-digit', minute: '2-digit' });

                if (chat.isGroup && !msg.sent) {
                    container.innerHTML += `
                        <div class="flex flex-col items-start mb-3 max-w-[80%]">
                            <span class="text-xs text-green-600 ml-2 mb-1 font-medium">${msg.sender}</span>
                            <div class="message-received">
                                <p class="text-sm text-gray-800">${msg.text}</p>
                                <span class="text-[10px] text-gray-400 float-right ml-2 mt-1">${timeStr}</span>
                            </div>
                        </div>
                    `;
                } else if (msg.sent) {
                    container.innerHTML += `
                        <div class="message-sent mb-3">
                            <p class="text-sm text-gray-800">${msg.text}</p>
                            <div class="flex items-center justify-end gap-1 mt-1">
                                <span class="text-[10px] text-gray-500">${timeStr}</span>
                                ${msg.read ? 
                                    '<i class="fas fa-check-double text-blue-500 text-xs"></i>' : 
                                    '<i class="fas fa-check text-gray-400 text-xs"></i>'
                                }
                            </div>
                        </div>
                    `;
                } else {
                    container.innerHTML += `
                        <div class="message-received mb-3">
                            <p class="text-sm text-gray-800">${msg.text}</p>
                            <span class="text-[10px] text-gray-400 float-right ml-2 mt-1">${timeStr}</span>
                        </div>
                    `;
                }
            });

            // Scroll to bottom
            container.scrollTop = container.scrollHeight;

            // Mark as read
            if (chat.unread > 0) {
                chat.unread = 0;
                renderChatsList();
            }
        }
    </script>
</body>
</html>