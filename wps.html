<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Security Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: #dadbd3;
            height: 100vh;
            overflow: hidden;
        }

        /* Background Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23075e54' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
            z-index: -1;
        }

        /* App Container */
        .app-container {
            width: 100%;
            height: 100vh;
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 1px 1px 0 rgba(0,0,0,0.06), 0 2px 5px 0 rgba(0,0,0,0.2);
            display: flex;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: 30%;
            min-width: 300px;
            background: white;
            border-right: 1px solid #e9edef;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: #f0f2f5;
            padding: 10px 16px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .profile-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            cursor: pointer;
        }

        .header-icons {
            display: flex;
            gap: 25px;
            color: #54656f;
        }

        .header-icons i {
            cursor: pointer;
            font-size: 20px;
            transition: color 0.2s;
        }

        .header-icons i:hover {
            color: #3b4a54;
        }

        /* Notification Toggle */
        .notification-toggle {
            background: #fff9c4;
            padding: 13px 16px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid #e9edef;
        }

        .bell-icon {
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9ea08d;
        }

        .notification-text h4 {
            font-size: 15px;
            color: #111b21;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .notification-text p {
            font-size: 13px;
            color: #008069;
            cursor: pointer;
        }

        /* Search */
        .search-container {
            background: #f0f2f5;
            padding: 8px 16px;
            border-bottom: 1px solid #e9edef;
        }

        .search-box {
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            padding: 8px 12px;
            gap: 10px;
        }

        .search-box i {
            color: #54656f;
            font-size: 14px;
        }

        .search-box input {
            border: none;
            outline: none;
            flex: 1;
            font-size: 14px;
            color: #3b4a54;
        }

        .search-box input::placeholder {
            color: #667781;
        }

        /* Filter Tabs */
        .filter-tabs {
            display: flex;
            padding: 0 16px;
            border-bottom: 1px solid #e9edef;
            background: white;
        }

        .filter-tab {
            padding: 12px 16px;
            font-size: 14px;
            color: #008069;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .filter-tab.active {
            border-bottom-color: #008069;
        }

        .filter-tab:hover {
            background: #f0f2f5;
        }

        /* Contacts List */
        .contacts-list {
            flex: 1;
            overflow-y: auto;
            background: white;
        }

        .contact-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            cursor: pointer;
            transition: background 0.2s;
            border-bottom: 1px solid #f0f2f5;
            position: relative;
        }

        .contact-item:hover {
            background: #f5f6f6;
        }

        .contact-item.active {
            background: #f0f2f5;
        }

        .contact-avatar {
            width: 49px;
            height: 49px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
        }

        .contact-info {
            flex: 1;
            min-width: 0;
        }

        .contact-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 4px;
        }

        .contact-name {
            font-size: 17px;
            color: #111b21;
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .contact-time {
            font-size: 12px;
            color: #667781;
        }

        .contact-message {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .message-preview {
            font-size: 14px;
            color: #667781;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex: 1;
        }

        .message-status {
            color: #53bdeb;
            font-size: 12px;
        }

        .unread-badge {
            background: #25d366;
            color: white;
            border-radius: 50%;
            min-width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 500;
            margin-left: 5px;
        }

        .pinned-icon {
            color: #667781;
            font-size: 12px;
            margin-left: 5px;
        }

        /* Chat Area */
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #efeae2;
            position: relative;
        }

        .chat-header {
            background: #f0f2f5;
            padding: 10px 16px;
            height: 60px;
            display: flex;
            align-items: center;
            border-left: 1px solid #e9edef;
        }

        .chat-header-info {
            flex: 1;
            margin-left: 15px;
        }

        .chat-header-name {
            font-size: 16px;
            color: #111b21;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .chat-header-status {
            font-size: 13px;
            color: #667781;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .online-dot {
            width: 8px;
            height: 8px;
            background: #25d366;
            border-radius: 50%;
            display: inline-block;
        }

        .chat-actions {
            display: flex;
            gap: 25px;
            color: #54656f;
            margin-left: auto;
        }

        .chat-actions i {
            cursor: pointer;
            font-size: 20px;
        }

        /* Messages Container */
        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px 5%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23075e54' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .date-separator {
            text-align: center;
            margin: 10px 0;
        }

        .date-separator span {
            background: #fff9c4;
            padding: 5px 12px;
            border-radius: 8px;
            font-size: 12px;
            color: #54656f;
            box-shadow: 0 1px 0.5px rgba(0,0,0,0.13);
        }

        .message {
            max-width: 65%;
            padding: 6px 7px 8px 9px;
            border-radius: 8px;
            position: relative;
            font-size: 14.2px;
            line-height: 19px;
            box-shadow: 0 1px 0.5px rgba(0,0,0,0.13);
            word-wrap: break-word;
        }

        .message-in {
            background: white;
            align-self: flex-start;
            border-top-left-radius: 0;
        }

        .message-out {
            background: #d9fdd3;
            align-self: flex-end;
            border-top-right-radius: 0;
        }

        .message-text {
            color: #111b21;
            margin-right: 40px;
        }

        .message-meta {
            position: absolute;
            bottom: 3px;
            right: 7px;
            display: flex;
            align-items: center;
            gap: 3px;
        }

        .message-time {
            font-size: 11px;
            color: #667781;
        }

        .message-status {
            color: #53bdeb;
            font-size: 12px;
        }

        /* Encryption Notice */
        .encryption-notice {
            text-align: center;
            padding: 10px 20px;
            margin: 10px auto;
            background: #ffeecd;
            border-radius: 8px;
            max-width: 90%;
        }

        .encryption-notice p {
            font-size: 12px;
            color: #54656f;
        }

        .encryption-notice i {
            color: #8696a0;
            margin-right: 5px;
        }

        /* Chat Input */
        .chat-input-container {
            background: #f0f2f5;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .input-icons {
            color: #54656f;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .input-icons:hover {
            color: #3b4a54;
        }

        .message-input-wrapper {
            flex: 1;
            background: white;
            border-radius: 8px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
        }

        .message-input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 15px;
            color: #111b21;
        }

        .message-input::placeholder {
            color: #667781;
        }

        .send-btn {
            width: 40px;
            height: 40px;
            background: #008069;
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .send-btn:hover {
            background: #005c4b;
        }

        /* Empty State */
        .empty-state {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #f0f2f5;
            border-left: 1px solid #e9edef;
        }

        .empty-icon {
            width: 300px;
            height: 300px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23e9edef"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>') center/contain no-repeat;
            opacity: 0.5;
            margin-bottom: 20px;
        }

        .empty-text h2 {
            color: #41525d;
            font-size: 32px;
            font-weight: 300;
            margin-bottom: 15px;
            text-align: center;
        }

        .empty-text p {
            color: #667781;
            font-size: 14px;
            text-align: center;
            line-height: 20px;
        }

        /* Country Selection Modal */
        .country-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .country-modal-content {
            background: #111b21;
            border-radius: 10px;
            padding: 40px;
            max-width: 800px;
            width: 90%;
            box-shadow: 0 17px 50px 0 rgba(0,0,0,0.19);
        }

        .country-modal h2 {
            color: #25d366;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .country-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .country-card {
            background: #202c33;
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .country-card:hover {
            border-color: #25d366;
            transform: translateY(-5px);
        }

        .country-card.selected {
            border-color: #25d366;
            background: rgba(37, 211, 102, 0.1);
        }

        .country-flag {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .country-name {
            color: white;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .country-code {
            color: #8696a0;
            font-size: 14px;
        }

        /* Phone Input */
        .phone-section {
            display: none;
            margin-top: 20px;
        }

        .phone-section.active {
            display: block;
        }

        .phone-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .phone-input {
            flex: 1;
            background: #2a3942;
            border: 1px solid #374248;
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 18px;
            outline: none;
        }

        .phone-input:focus {
            border-color: #25d366;
        }

        .verify-btn {
            background: #25d366;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .verify-btn:hover {
            background: #1faa5c;
        }

        .back-btn {
            background: transparent;
            color: #8696a0;
            border: 1px solid #374248;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-left: 10px;
        }

        .back-btn:hover {
            background: #202c33;
        }

        .error-msg {
            color: #ff4d4d;
            margin-top: 10px;
            display: none;
        }

        /* Loading */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .loading-overlay.active {
            display: flex;
        }

        .whatsapp-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid #374248;
            border-top: 3px solid #25d366;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                width: 100%;
            }
            .chat-area {
                display: none;
            }
            .chat-area.active-mobile {
                display: flex;
                position: fixed;
                width: 100%;
                height: 100%;
                z-index: 100;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #cccccc;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body>

    <!-- Country Selection Modal -->
    <div class="country-modal" id="country-modal">
        <div class="country-modal-content">
            <h2><i class="fab fa-whatsapp" style="margin-right: 10px;"></i> WhatsApp Security Simulator</h2>
            <p style="color: #8696a0; text-align: center; margin-bottom: 30px;">√ñlk…ô se√ßin / √úlke se√ßin / ⁄©ÿ¥Ÿàÿ± ÿ±ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ</p>
            
            <div class="country-grid">
                <div class="country-card" onclick="selectCountry('AZ')" id="card-AZ">
                    <div class="country-flag">üá¶üáø</div>
                    <div class="country-name">Az…ôrbaycan</div>
                    <div class="country-code">+994</div>
                </div>
                <div class="country-card" onclick="selectCountry('TR')" id="card-TR">
                    <div class="country-flag">üáπüá∑</div>
                    <div class="country-name">T√ºrkiy…ô</div>
                    <div class="country-code">+90</div>
                </div>
                <div class="country-card" onclick="selectCountry('IR')" id="card-IR">
                    <div class="country-flag">üáÆüá∑</div>
                    <div class="country-name">ƒ∞ran</div>
                    <div class="country-code">+98</div>
                </div>
            </div>

            <div class="phone-section" id="phone-section">
                <div style="margin-bottom: 15px;">
                    <label style="color: #8696a0; font-size: 14px;">Telefon n√∂mr…ôsi / Telefon numarasƒ± / ÿ¥ŸÖÿßÿ±Ÿá ÿ™ŸÑŸÅŸÜ</label>
                </div>
                <div class="phone-input-container">
                    <div style="display: flex; align-items: center; background: #2a3942; padding: 15px; border-radius: 8px; color: white; font-weight: 600;" id="country-indicator">
                        üá¶üáø +994
                    </div>
                    <input type="tel" class="phone-input" id="phone-input" placeholder="XX XXX XX XX">
                </div>
                <div class="error-msg" id="error-msg">Z…ôhm…ôt olmasa, d√ºzg√ºn n√∂mr…ô daxil edin</div>
                <div style="margin-top: 20px;">
                    <button class="verify-btn" onclick="verifyPhone()">
                        <i class="fab fa-whatsapp"></i> Baƒülantƒ± yoxla
                    </button>
                    <button class="back-btn" onclick="backToCountries()">Geri</button>
                </div>
            </div>

            <div style="margin-top: 30px; padding: 15px; background: rgba(255,0,0,0.1); border-radius: 8px; border-left: 3px solid #ff4d4d;">
                <p style="color: #ff4d4d; font-size: 13px; text-align: center;">
                    <i class="fas fa-exclamation-triangle"></i> 
                    Bu simulyasiya yalnƒ±z t…ôhsil m…ôqs…ôdlidir. Real WhatsApp hesaplarƒ±na icaz…ôsiz giri≈ü qanunsuzdur.
                </p>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="whatsapp-spinner"></div>
        <div style="color: #25d366; font-size: 18px;">Connecting...</div>
    </div>

    <!-- Main App -->
    <div class="app-container" id="app-container" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="header">
                <img src="https://i.pravatar.cc/150?img=11" alt="Profile" class="profile-img">
                <div class="header-icons">
                    <i class="fas fa-users"></i>
                    <i class="fas fa-circle-notch"></i>
                    <i class="fas fa-comment-alt"></i>
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>

            <div class="notification-toggle">
                <div class="bell-icon">
                    <i class="fas fa-bell-slash"></i>
                </div>
                <div class="notification-text">
                    <h4>Get notified of new messages</h4>
                    <p>Turn on desktop notifications ‚Ä∫</p>
                </div>
            </div>

            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search or start new chat" id="search-input">
                </div>
            </div>

            <div class="filter-tabs">
                <div class="filter-tab active">All</div>
                <div class="filter-tab">Unread</div>
                <div class="filter-tab">Groups</div>
            </div>

            <div class="contacts-list" id="contacts-list">
                <!-- Contacts populated by JS -->
            </div>
        </div>

        <!-- Chat Area -->
        <div class="chat-area" id="chat-area">
            <div class="chat-header">
                <img src="" alt="" class="profile-img" id="chat-avatar" style="display: none;">
                <div class="chat-header-info" id="chat-header-info" style="display: none;">
                    <div class="chat-header-name" id="chat-name">Select a chat</div>
                    <div class="chat-header-status">
                        <span class="online-dot"></span>
                        <span id="chat-status">click any contact to view messages</span>
                    </div>
                </div>
                <div class="chat-actions" id="chat-actions" style="display: none;">
                    <i class="fas fa-search"></i>
                    <i class="fas fa-paperclip"></i>
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>

            <div class="messages-container" id="messages-container">
                <!-- Messages populated by JS -->
            </div>

            <div class="chat-input-container" id="chat-input-container" style="display: none;">
                <i class="far fa-smile input-icons"></i>
                <i class="fas fa-paperclip input-icons"></i>
                <div class="message-input-wrapper">
                    <input type="text" class="message-input" placeholder="Type a message" id="message-input">
                </div>
                <i class="fas fa-microphone input-icons"></i>
            </div>
        </div>

        <!-- Empty State -->
        <div class="empty-state" id="empty-state">
            <div class="empty-icon"></div>
            <div class="empty-text">
                <h2>WhatsApp for Windows</h2>
                <p>Send and receive messages without keeping your phone online.<br>
                Use WhatsApp on up to 4 linked devices and 1 phone at the same time.</p>
            </div>
        </div>
    </div>

    <script>
        // Country Data with Realistic Profiles
        const countries = {
            'AZ': {
                name: 'Az…ôrbaycan',
                code: '+994',
                placeholder: 'XX XXX XX XX',
                contacts: [
                    {
                        name: 'Ana',
                        avatar: 'https://i.pravatar.cc/150?img=5',
                        lastMsg: 'Sabah g√∂r√º≈ü…ôk?',
                        time: '12:30',
                        unread: 2,
                        pinned: true,
                        messages: [
                            { text: 'Salam qƒ±zƒ±m, nec…ôs…ôn?', sent: false, time: '12:00' },
                            { text: 'Yax≈üƒ±yam ana, s…ôn?', sent: true, time: '12:01' },
                            { text: 'M…ôn d…ô yax≈üƒ±yam. Sabah saat 3-d…ô g√∂r√º≈ü…ôk?', sent: false, time: '12:02' },
                            { text: 'Olacaq ana, g√∂zl…ô m…ôni', sent: true, time: '12:03' },
                            { text: 'Yax≈üƒ±, √∂p√ºr…ôm ‚ù§Ô∏è', sent: false, time: '12:04' }
                        ]
                    },
                    {
                        name: 'Baba',
                        avatar: 'https://i.pravatar.cc/150?img=13',
                        lastMsg: 'Pul g√∂nd…ôrdim',
                        time: '11:45',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'Oƒülum, pul ehtiyacƒ±n var idi', sent: false, time: '11:30' },
                            { text: 'Baba, √ßox saƒü ol', sent: true, time: '11:32' },
                            { text: 'Banka g√∂nd…ôrdim, yoxla', sent: false, time: '11:45' }
                        ]
                    },
                    {
                        name: 'El√ßin (ƒ∞≈ü)',
                        avatar: 'https://i.pravatar.cc/150?img=11',
                        lastMsg: 'Proyekt hazƒ±rdƒ±r',
                        time: '10:20',
                        unread: 1,
                        pinned: false,
                        messages: [
                            { text: 'Salam, proyekt nec…ô gedir?', sent: true, time: '09:00' },
                            { text: 'Salam, hazƒ±rdƒ±r. Baxƒ±rsan?', sent: false, time: '10:20' },
                            { text: 'G√∂nd…ôr g√∂r√ºm', sent: true, time: '10:22' }
                        ]
                    },
                    {
                        name: 'Leyla',
                        avatar: 'https://i.pravatar.cc/150?img=9',
                        lastMsg: 'T…ô≈ü…ôkk√ºr edir…ôm',
                        time: '09:15',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'Leyla, kitabƒ± tapdƒ±n?', sent: true, time: '09:00' },
                            { text: 'B…ôli, tapdƒ±m. √áox saƒü ol', sent: false, time: '09:15' }
                        ]
                    },
                    {
                        name: 'Kamran',
                        avatar: 'https://i.pravatar.cc/150?img=3',
                        lastMsg: 'G…ôlirs…ôn?',
                        time: 'D√ºn…ôn',
                        unread: 3,
                        pinned: false,
                        messages: [
                            { text: 'Dostum, bu g√ºn futbola g…ôlirs…ôn?', sent: false, time: '18:00' },
                            { text: 'Bilmir…ôm, i≈üim var', sent: true, time: '18:15' },
                            { text: 'G…ôl da, komanda s…ôni g√∂zl…ôyir', sent: false, time: '18:20' }
                        ]
                    },
                    {
                        name: 'Xal…ô',
                        avatar: 'https://i.pravatar.cc/150?img=24',
                        lastMsg: '≈û…ôkil g√∂nd…ôrmi≈ü…ôm',
                        time: 'D√ºn…ôn',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'Canƒ±m, n…ôv…ônin ≈ü…ôklini g√∂nd…ôrdim', sent: false, time: '16:00' },
                            { text: '√áox ≈üirindir ma≈üallah ü•∞', sent: true, time: '16:30' }
                        ]
                    },
                    {
                        name: 'Dostlar qrupu',
                        avatar: 'https://i.pravatar.cc/150?img=8',
                        lastMsg: 'Orxan: Gec…ô g√∂r√º≈ü…ôk?',
                        time: 'D√ºn…ôn',
                        unread: 15,
                        pinned: true,
                        isGroup: true,
                        messages: [
                            { text: 'Bu g√ºn saat 8-d…ô yƒ±ƒüƒ±≈üaq', sent: false, time: '14:00', sender: 'Orxan' },
                            { text: 'M…ôn g…ôl…ô bilm…ôr…ôm', sent: false, time: '14:05', sender: 'Samir' },
                            { text: 'Niy…ô da?', sent: false, time: '14:06', sender: 'Orxan' },
                            { text: 'ƒ∞≈üim √ßƒ±xdƒ±', sent: false, time: '14:10', sender: 'Samir' }
                        ]
                    }
                ]
            },
            'TR': {
                name: 'T√ºrkiye',
                code: '+90',
                placeholder: 'XXX XXX XXXX',
                contacts: [
                    {
                        name: 'Anne',
                        avatar: 'https://i.pravatar.cc/150?img=5',
                        lastMsg: 'Yarƒ±n g√∂r√º≈üelim?',
                        time: '12:30',
                        unread: 2,
                        pinned: true,
                        messages: [
                            { text: 'Kƒ±zƒ±m nasƒ±lsƒ±n?', sent: false, time: '12:00' },
                            { text: 'ƒ∞yiyim anne, sen?', sent: true, time: '12:01' },
                            { text: 'Ben de iyiyim. Yarƒ±n saat 3\'te g√∂r√º≈üelim?', sent: false, time: '12:02' },
                            { text: 'Olur anne, beklerim', sent: true, time: '12:03' }
                        ]
                    },
                    {
                        name: 'Baba',
                        avatar: 'https://i.pravatar.cc/150?img=13',
                        lastMsg: 'Para g√∂nderdim',
                        time: '11:45',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'Oƒülum paraya ihtiyacƒ±n vardƒ±', sent: false, time: '11:30' },
                            { text: 'Baba √ßok saƒü ol', sent: true, time: '11:32' },
                            { text: 'Bankaya g√∂nderdim kontrol et', sent: false, time: '11:45' }
                        ]
                    },
                    {
                        name: 'Ahmet (ƒ∞≈ü)',
                        avatar: 'https://i.pravatar.cc/150?img=11',
                        lastMsg: 'Proje hazƒ±r',
                        time: '10:20',
                        unread: 1,
                        pinned: false,
                        messages: [
                            { text: 'Merhaba proje nasƒ±l gidiyor?', sent: true, time: '09:00' },
                            { text: 'Merhaba hazƒ±r. Bakƒ±yor musun?', sent: false, time: '10:20' }
                        ]
                    },
                    {
                        name: 'Ay≈üe',
                        avatar: 'https://i.pravatar.cc/150?img=9',
                        lastMsg: 'Te≈üekk√ºr ederim',
                        time: '09:15',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'Ay≈üe kitabƒ± buldun mu?', sent: true, time: '09:00' },
                            { text: 'Evet buldum. √áok saƒü ol', sent: false, time: '09:15' }
                        ]
                    },
                    {
                        name: 'Mehmet',
                        avatar: 'https://i.pravatar.cc/150?img=3',
                        lastMsg: 'Geliyor musun?',
                        time: 'D√ºn',
                        unread: 3,
                        pinned: false,
                        messages: [
                            { text: 'Dostum bug√ºn futbola geliyor musun?', sent: false, time: '18:00' },
                            { text: 'Bilmiyorum i≈üim var', sent: true, time: '18:15' },
                            { text: 'Gel ya takƒ±m seni bekliyor', sent: false, time: '18:20' }
                        ]
                    },
                    {
                        name: 'Teyze',
                        avatar: 'https://i.pravatar.cc/150?img=24',
                        lastMsg: 'Fotoƒüraf g√∂nderdim',
                        time: 'D√ºn',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'Canƒ±m torununun fotoƒürafƒ±nƒ± g√∂nderdim', sent: false, time: '16:00' },
                            { text: '√áok tatlƒ± ma≈üallah ü•∞', sent: true, time: '16:30' }
                        ]
                    },
                    {
                        name: 'Arkada≈ülar grubu',
                        avatar: 'https://i.pravatar.cc/150?img=8',
                        lastMsg: 'Can: Gece bulu≈üalƒ±m?',
                        time: 'D√ºn',
                        unread: 15,
                        pinned: true,
                        isGroup: true,
                        messages: [
                            { text: 'Bug√ºn saat 8\'de bulu≈üalƒ±m', sent: false, time: '14:00', sender: 'Can' },
                            { text: 'Ben gelemeyeceƒüim', sent: false, time: '14:05', sender: 'Burak' },
                            { text: 'Niye ya?', sent: false, time: '14:06', sender: 'Can' }
                        ]
                    }
                ]
            },
            'IR': {
                name: 'ÿß€åÿ±ÿßŸÜ',
                code: '+98',
                placeholder: 'XXX XXX XXXX',
                contacts: [
                    {
                        name: 'ŸÖÿßÿØÿ±',
                        avatar: 'https://i.pravatar.cc/150?img=5',
                        lastMsg: 'ŸÅÿ±ÿØÿß ŸÖ€å‚Äåÿ®€åŸÜŸÖÿ™ÿü',
                        time: '12:30',
                        unread: 2,
                        pinned: true,
                        messages: [
                            { text: 'ÿØÿÆÿ™ÿ±ŸÖ ÿ≠ÿßŸÑÿ™ ⁄Üÿ∑Ÿàÿ±Ÿáÿü', sent: false, time: '12:00' },
                            { text: 'ÿÆŸàÿ®ŸÖ ŸÖÿßŸÖÿßŸÜÿå ÿ™Ÿà ⁄Üÿ∑Ÿàÿ±€åÿü', sent: true, time: '12:01' },
                            { text: 'ŸÖŸÜŸÖ ÿÆŸàÿ®ŸÖ. ŸÅÿ±ÿØÿß ÿ≥ÿßÿπÿ™ €≥ ŸÖ€å‚Äåÿ®€åŸÜŸÖÿ™ÿü', sent: false, time: '12:02' },
                            { text: 'ÿ®ÿßÿ¥Ÿá ŸÖÿßŸÖÿßŸÜÿå ŸÖŸÜÿ™ÿ∏ÿ±ÿ™ŸÖ', sent: true, time: '12:03' }
                        ]
                    },
                    {
                        name: 'ŸæÿØÿ±',
                        avatar: 'https://i.pravatar.cc/150?img=13',
                        lastMsg: 'ŸæŸàŸÑ ŸÅÿ±ÿ≥ÿ™ÿßÿØŸÖ',
                        time: '11:45',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'Ÿæÿ≥ÿ±ŸÖ ŸæŸàŸÑ ŸÜ€åÿßÿ≤ ÿØÿßÿ¥ÿ™€å', sent: false, time: '11:30' },
                            { text: 'ÿ®ÿßÿ®ÿß ŸÖŸÖŸÜŸàŸÜ', sent: true, time: '11:32' },
                            { text: 'ÿ®Ÿá ÿ®ÿßŸÜ⁄© ŸÅÿ±ÿ≥ÿ™ÿßÿØŸÖ ⁄Ü⁄© ⁄©ŸÜ', sent: false, time: '11:45' }
                        ]
                    },
                    {
                        name: 'ÿπŸÑ€å (⁄©ÿßÿ±)',
                        avatar: 'https://i.pravatar.cc/150?img=11',
                        lastMsg: 'Ÿæÿ±Ÿà⁄òŸá ÿ¢ŸÖÿßÿØŸá ÿßÿ≥ÿ™',
                        time: '10:20',
                        unread: 1,
                        pinned: false,
                        messages: [
                            { text: 'ÿ≥ŸÑÿßŸÖ Ÿæÿ±Ÿà⁄òŸá ⁄Üÿ∑Ÿàÿ± Ÿæ€åÿ¥ ŸÖ€åÿ±Ÿáÿü', sent: true, time: '09:00' },
                            { text: 'ÿ≥ŸÑÿßŸÖ ÿ¢ŸÖÿßÿØŸá ÿßÿ≥ÿ™. ŸÜ⁄ØÿßŸá ŸÖ€å‚Äå⁄©ŸÜ€åÿü', sent: false, time: '10:20' }
                        ]
                    },
                    {
                        name: 'ŸÖÿ±€åŸÖ',
                        avatar: 'https://i.pravatar.cc/150?img=9',
                        lastMsg: 'ŸÖÿ™ÿ¥⁄©ÿ±ŸÖ',
                        time: '09:15',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'ŸÖÿ±€åŸÖ ⁄©ÿ™ÿßÿ®Ÿà Ÿæ€åÿØÿß ⁄©ÿ±ÿØ€åÿü', sent: true, time: '09:00' },
                            { text: 'ÿ¢ÿ±Ÿá Ÿæ€åÿØÿß ⁄©ÿ±ÿØŸÖ. ŸÖŸÖŸÜŸàŸÜ', sent: false, time: '09:15' }
                        ]
                    },
                    {
                        name: 'ÿ≠ÿ≥ŸÜ',
                        avatar: 'https://i.pravatar.cc/150?img=3',
                        lastMsg: 'ŸÖ€å‚Äåÿ¢€å€åÿü',
                        time: 'ÿØ€åÿ±Ÿàÿ≤',
                        unread: 3,
                        pinned: false,
                        messages: [
                            { text: 'ÿØŸàÿ≥ÿ™ ÿßŸÖÿ±Ÿàÿ≤ ŸÅŸàÿ™ÿ®ÿßŸÑ ŸÖ€å‚Äåÿ¢€å€åÿü', sent: false, time: '18:00' },
                            { text: 'ŸÜŸÖ€å‚ÄåÿØŸàŸÜŸÖ ⁄©ÿßÿ± ÿØÿßÿ±ŸÖ', sent: true, time: '18:15' },
                            { text: 'ÿ®€åÿß €åŸá ÿ™€åŸÖ ŸÖŸÜÿ™ÿ∏ÿ±ÿ™Ÿá', sent: false, time: '18:20' }
                        ]
                    },
                    {
                        name: 'ÿÆÿßŸÑŸá',
                        avatar: 'https://i.pravatar.cc/150?img=24',
                        lastMsg: 'ÿπ⁄©ÿ≥ ŸÅÿ±ÿ≥ÿ™ÿßÿØŸÖ',
                        time: 'ÿØ€åÿ±Ÿàÿ≤',
                        unread: 0,
                        pinned: false,
                        messages: [
                            { text: 'ÿ¨ÿßŸÜŸÖ ÿπ⁄©ÿ≥ ŸÜŸàŸá‚Äåÿßÿ™Ÿà ŸÅÿ±ÿ≥ÿ™ÿßÿØŸÖ', sent: false, time: '16:00' },
                            { text: 'ÿÆ€åŸÑ€å ŸÜÿßÿ≤Ÿá ŸÖÿßÿ¥ÿßŸÑŸÑŸá ü•∞', sent: true, time: '16:30' }
                        ]
                    },
                    {
                        name: '⁄Øÿ±ŸàŸá ÿØŸàÿ≥ÿ™ÿßŸÜ',
                        avatar: 'https://i.pravatar.cc/150?img=8',
                        lastMsg: 'ÿ±ÿ∂ÿß: ÿ¥ÿ® ÿ®ÿ®€åŸÜ€åŸÖÿü',
                        time: 'ÿØ€åÿ±Ÿàÿ≤',
                        unread: 15,
                        pinned: true,
                        isGroup: true,
                        messages: [
                            { text: 'ÿßŸÖÿ¥ÿ® ÿ≥ÿßÿπÿ™ €∏ ÿ¨ŸÖÿπ ÿ®ÿ¥€åŸÖ', sent: false, time: '14:00', sender: 'ÿ±ÿ∂ÿß' },
                            { text: 'ŸÖŸÜ ŸÜŸÖ€å‚Äåÿ™ŸàŸÜŸÖ ÿ®€åÿßŸÖ', sent: false, time: '14:05', sender: 'ÿßŸÖ€åÿ±' },
                            { text: '⁄Üÿ±ÿßÿü', sent: false, time: '14:06', sender: 'ÿ±ÿ∂ÿß' }
                        ]
                    }
                ]
            }
        };

        let currentCountry = null;
        let currentContact = null;

        function selectCountry(code) {
            currentCountry = code;
            const data = countries[code];
            
            document.querySelectorAll('.country-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.getElementById(`card-${code}`).classList.add('selected');
            
            document.getElementById('country-indicator').innerHTML = `${data.flag} ${data.code}`;
            document.getElementById('phone-input').placeholder = data.placeholder;
            document.getElementById('phone-section').classList.add('active');
        }

        function backToCountries() {
            document.getElementById('phone-section').classList.remove('active');
            document.getElementById('phone-input').value = '';
            document.getElementById('error-msg').style.display = 'none';
            document.querySelectorAll('.country-card').forEach(card => {
                card.classList.remove('selected');
            });
            currentCountry = null;
        }

        document.getElementById('phone-input').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            
            if (currentCountry === 'AZ') {
                if (value.length > 2) value = value.slice(0,2) + ' ' + value.slice(2);
                if (value.length > 6) value = value.slice(0,6) + ' ' + value.slice(6);
                if (value.length > 9) value = value.slice(0,9) + ' ' + value.slice(9);
            } else {
                if (value.length > 3) value = value.slice(0,3) + ' ' + value.slice(3);
                if (value.length > 7) value = value.slice(0,7) + ' ' + value.slice(7);
            }
            
            e.target.value = value;
            document.getElementById('error-msg').style.display = 'none';
        });

        function verifyPhone() {
            const input = document.getElementById('phone-input');
            const rawNumber = input.value.replace(/\s/g, '');
            let minLength = currentCountry === 'AZ' ? 9 : 10;
            
            if (rawNumber.length < minLength) {
                document.getElementById('error-msg').style.display = 'block';
                return;
            }
            
            document.getElementById('loading-overlay').classList.add('active');
            
            setTimeout(() => {
                document.getElementById('loading-overlay').classList.remove('active');
                document.getElementById('country-modal').style.display = 'none';
                document.getElementById('app-container').style.display = 'flex';
                loadContacts();
            }, 2000);
        }

        function loadContacts() {
            const data = countries[currentCountry];
            const list = document.getElementById('contacts-list');
            list.innerHTML = '';
            
            data.contacts.forEach((contact, index) => {
                const div = document.createElement('div');
                div.className = 'contact-item' + (index === 0 ? ' active' : '');
                div.onclick = () => selectContact(index);
                
                div.innerHTML = `
                    <img src="${contact.avatar}" alt="${contact.name}" class="contact-avatar">
                    <div class="contact-info">
                        <div class="contact-header">
                            <span class="contact-name">${contact.name}</span>
                            <span class="contact-time">${contact.time}</span>
                        </div>
                        <div class="contact-message">
                            ${contact.isGroup ? '<i class="fas fa-check-double" style="color: #53bdeb; font-size: 12px; margin-right: 4px;"></i>' : ''}
                            <span class="message-preview">${contact.lastMsg}</span>
                            ${contact.unread > 0 ? `<span class="unread-badge">${contact.unread}</span>` : ''}
                            ${contact.pinned ? '<i class="fas fa-thumbtack pinned-icon"></i>' : ''}
                        </div>
                    </div>
                `;
                list.appendChild(div);
            });
            
            // Select first contact automatically
            selectContact(0);
        }

        function selectContact(index) {
            const data = countries[currentCountry];
            currentContact = data.contacts[index];
            
            // Update active state
            const items = document.querySelectorAll('.contact-item');
            items.forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });
            
            // Show chat area
            document.getElementById('empty-state').style.display = 'none';
            document.getElementById('chat-area').style.display = 'flex';
            
            // Update header
            document.getElementById('chat-avatar').src = currentContact.avatar;
            document.getElementById('chat-avatar').style.display = 'block';
            document.getElementById('chat-header-info').style.display = 'block';
            document.getElementById('chat-actions').style.display = 'flex';
            document.getElementById('chat-input-container').style.display = 'flex';
            
            document.getElementById('chat-name').textContent = currentContact.name;
            document.getElementById('chat-status').textContent = currentCountry === 'AZ' ? 'onlayn' : 
                                                                  currentCountry === 'TR' ? '√ßevrimi√ßi' : 'ÿ¢ŸÜŸÑÿß€åŸÜ';
            
            // Load messages
            loadMessages();
        }

        function loadMessages() {
            const container = document.getElementById('messages-container');
            container.innerHTML = '';
            
            // Add encryption notice
            const notice = document.createElement('div');
            notice.className = 'encryption-notice';
            notice.innerHTML = `
                <i class="fas fa-lock"></i>
                <p>Messages and calls are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them.</p>
            `;
            container.appendChild(notice);
            
            // Add date separator
            const dateDiv = document.createElement('div');
            dateDiv.className = 'date-separator';
            dateDiv.innerHTML = '<span>TODAY</span>';
            container.appendChild(dateDiv);
            
            // Add messages
            currentContact.messages.forEach(msg => {
                const msgDiv = document.createElement('div');
                msgDiv.className = 'message ' + (msg.sent ? 'message-out' : 'message-in');
                
                let senderHtml = '';
                if (currentContact.isGroup && !msg.sent && msg.sender) {
                    senderHtml = `<div style="color: #53bdeb; font-size: 12.5px; font-weight: 500; margin-bottom: 2px;">${msg.sender}</div>`;
                }
                
                msgDiv.innerHTML = `
                    ${senderHtml}
                    <div class="message-text">${msg.text}</div>
                    <div class="message-meta">
                        <span class="message-time">${msg.time}</span>
                        ${msg.sent ? '<i class="fas fa-check-double message-status"></i>' : ''}
                    </div>
                `;
                container.appendChild(msgDiv);
            });
            
            container.scrollTop = container.scrollHeight;
        }

        // Search functionality
        document.getElementById('search-input').addEventListener('input', function(e) {
            const term = e.target.value.toLowerCase();
            document.querySelectorAll('.contact-item').forEach((item, index) => {
                const contact = countries[currentCountry].contacts[index];
                const match = contact.name.toLowerCase().includes(term) || 
                             contact.lastMsg.toLowerCase().includes(term);
                item.style.display = match ? 'flex' : 'none';
            });
        });

        // Filter tabs
        document.querySelectorAll('.filter-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Send message
        document.getElementById('message-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && this.value.trim()) {
                const container = document.getElementById('messages-container');
                const now = new Date();
                const time = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
                
                const msgDiv = document.createElement('div');
                msgDiv.className = 'message message-out';
                msgDiv.innerHTML = `
                    <div class="message-text">${this.value}</div>
                    <div class="message-meta">
                        <span class="message-time">${time}</span>
                        <i class="fas fa-check message-status"></i>
                    </div>
                `;
                container.appendChild(msgDiv);
                container.scrollTop = container.scrollHeight;
                
                // Update contact preview
                currentContact.lastMsg = this.value;
                currentContact.time = time;
                loadContacts();
                
                this.value = '';
            }
        });
    </script>
</body>
</html>
